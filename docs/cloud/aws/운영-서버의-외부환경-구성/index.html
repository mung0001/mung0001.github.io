<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="AWS의 외부환경 구성  DNS ( Domain Name System )   DNS란 도메인네임서버를 일컫으며, 인터넷은 서버들을 유일하게 구분할 수 있는 IP주소 체계를 보다 인간이 읽게 쉽게 하기 위해 계발되었다. 흔히 우리가 알고 있는 naver.com, google.com, daum.net 모두 DNS이다. AWS에서는 Route 53을 활용해 도메인 서비스를 지원한다.   AWS Route 53    AWS의 DNS 서비스 ( 도메인 등록, DNS 라우팅, Health check ) 도메인 등록시 약 12.000원 정도 지불해야 하며, 최대 3일 정도 걸림 해당 도메인을 AWS 내 서비스 ( EC2, ELB, S3 등 ) 와 연결 할 수 있으며 AWS 외 요소들과도 연결 가능 도메인 생성 후 레코드 세트를 생성하여 하위 도메인을 등록할 수 있음 레코드 세트 등록시에는 IP 주소, 도메인, ‘Alias’ 등을 지정하여 쿼리를 라우팅할 수 있음   Route 53의 라우팅 정책  Simple : 동일 레코드 내에 다수의 IP를 지정하여 라우팅 가능, 값을 다수 지정한 경우 무작위로 반환함 Weighted : Region 별 부하 분산 가능, 각 가중치를 가진 동일한 이름의 A 레코드를 만들어 IP를 다르게 줌 Latency-based : 지연 시간이 가장 적은, 즉 응답시간이 가장 빠른 리전으로 쿼리를 요청 Failover : A/S 설정에서 사용됨, Main과 DR로 나누어 Main 장애시 DR로 쿼리 Geolocation : 각 지역을 기반으로 가장 가까운 리전으로 쿼리 수행, 레코드 생성시 지역을 지정할 수 있음 Geo-proximity : Traffic flow를 이용한 사용자 정의 DNS 쿼리 생성 가능 Multi-value answer : 다수의 IP를 지정한다는 것은 simpl와 비슷하지만 health check가 가능 ( 실패시 자동 Failover )     AWS Route 사용방법."><meta property="og:title" content="" />
<meta property="og:description" content="AWS의 외부환경 구성  DNS ( Domain Name System )   DNS란 도메인네임서버를 일컫으며, 인터넷은 서버들을 유일하게 구분할 수 있는 IP주소 체계를 보다 인간이 읽게 쉽게 하기 위해 계발되었다. 흔히 우리가 알고 있는 naver.com, google.com, daum.net 모두 DNS이다. AWS에서는 Route 53을 활용해 도메인 서비스를 지원한다.   AWS Route 53    AWS의 DNS 서비스 ( 도메인 등록, DNS 라우팅, Health check ) 도메인 등록시 약 12.000원 정도 지불해야 하며, 최대 3일 정도 걸림 해당 도메인을 AWS 내 서비스 ( EC2, ELB, S3 등 ) 와 연결 할 수 있으며 AWS 외 요소들과도 연결 가능 도메인 생성 후 레코드 세트를 생성하여 하위 도메인을 등록할 수 있음 레코드 세트 등록시에는 IP 주소, 도메인, ‘Alias’ 등을 지정하여 쿼리를 라우팅할 수 있음   Route 53의 라우팅 정책  Simple : 동일 레코드 내에 다수의 IP를 지정하여 라우팅 가능, 값을 다수 지정한 경우 무작위로 반환함 Weighted : Region 별 부하 분산 가능, 각 가중치를 가진 동일한 이름의 A 레코드를 만들어 IP를 다르게 줌 Latency-based : 지연 시간이 가장 적은, 즉 응답시간이 가장 빠른 리전으로 쿼리를 요청 Failover : A/S 설정에서 사용됨, Main과 DR로 나누어 Main 장애시 DR로 쿼리 Geolocation : 각 지역을 기반으로 가장 가까운 리전으로 쿼리 수행, 레코드 생성시 지역을 지정할 수 있음 Geo-proximity : Traffic flow를 이용한 사용자 정의 DNS 쿼리 생성 가능 Multi-value answer : 다수의 IP를 지정한다는 것은 simpl와 비슷하지만 health check가 가능 ( 실패시 자동 Failover )     AWS Route 사용방법." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://mung0001.github.io/docs/cloud/aws/%EC%9A%B4%EC%98%81-%EC%84%9C%EB%B2%84%EC%9D%98-%EC%99%B8%EB%B6%80%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%84%B1/" />


<title>왈왈왈</title>
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.63eb88daa545365405ecdbb21033286a325c60a36cfa6d22d21e7c3bc9286941.css" integrity="sha256-Y&#43;uI2qVFNlQF7NuyEDMoajJcYKNs&#43;m0i0h58O8koaUE=">
<script defer src="/en.search.min.fa78ed073ee5325e2d764b250be7ba3b5114301f5fd18509f1ec1c730d2aee2c.js" integrity="sha256-&#43;njtBz7lMl4tdkslC&#43;e6O1EUMB9f0YUJ8ewccw0q7iw="></script>
<!--

-->

  
</head>

<body>
  <div class="background">
  <input type="checkbox" class="hidden" id="menu-control" />
  <main class="container flex" style="max-width:95%;" >
    <aside class="book-menu">
      
  <nav>
<h2 class="book-brand">
  <a href="/"><span>왈왈왈</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  

  
  





 
  
    




  
  <ul>
    
      
        

  <li class="book-section-flat" >
    

  
  <a href="/docs/cloud/" class="">AWS</a>
  


    




  
  <ul>
    
      
        

  <li>
    

  
  <a href="/docs/cloud/aws/" class="collapsed ">A W S</a>
  


    




  
  <ul>
    
      
        <li>

  
  <a href="/docs/cloud/aws/auto-scaling/" class="">Auto Scaling</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/cloud/aws/%EC%96%91%EC%8B%9D/" class="">양식</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/cloud/aws/%EC%9A%B4%EC%98%81-%EC%84%9C%EB%B2%84%EC%9D%98-%EC%99%B8%EB%B6%80%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%84%B1/" class="active">운영 서버의 외부환경 구성</a>
  

</li>
      
    
  </ul>
  



  </li>


      
    
  </ul>
  



  </li>


      
    
      
        

  <li class="book-section-flat" >
    

  
  <a href="/docs/programing/" class="">Programing</a>
  


    




  
  <ul>
    
      
        

  <li>
    

  
  <a href="/docs/programing/code/" class="collapsed ">Code</a>
  


    






  </li>


      
    
  </ul>
  



  </li>


      
    
      
        

  <li class="book-section-flat" >
    

  
  <a href="/docs/study/" class="">Study</a>
  


    




  
  <ul>
    
      
        

  <li>
    

  
  <a href="/docs/study/django/" class="collapsed ">Django</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/study/golang/" class="collapsed ">Golang</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/study/network/" class="collapsed ">Network</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/study/openstack/" class="collapsed ">Open Stack</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/study/security/" class="collapsed ">Security</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/study/system/" class="collapsed ">System</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/study/web/" class="collapsed ">Web</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/study/%EC%A0%84%EC%A0%84/" class="collapsed ">전전</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/study/%EC%A0%95%EB%B3%B4%EC%B2%98%EB%A6%AC%EA%B8%B0%EC%82%AC/" class="collapsed ">정보처리기사</a>
  


    






  </li>


      
    
  </ul>
  



  </li>


      
    
      
        

  <li class="book-section-flat" >
    

  
  <span>Project</span>
  


    




  
  <ul>
    
      
        

  <li>
    

  
  <a href="/docs/project/mini/" class="collapsed ">M Ini</a>
  


    






  </li>


      
    
  </ul>
  



  </li>


      
    
  </ul>
  



  














  
<ul>
  
  <li>
    <a href="/posts/" >
        Blog
      </a>
  </li>
  
</ul>







</nav>




  <script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script>


 
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>운영 서버의 외부환경 구성</strong>

  <label for="toc-control">
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
  </label>
</div>


  
    <input type="checkbox" class="hidden" id="toc-control" />
    <aside class="hidden clearfix">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#dns--domain-name-system-"><strong>DNS ( Domain Name System )</strong></a></li>
  </ul>

  <ul>
    <li><a href="#aws-route-53"><strong>AWS Route 53</strong></a></li>
  </ul>

  <ul>
    <li>
      <ul>
        <li><a href="#route-53의-라우팅-정책"><strong>Route 53의 라우팅 정책</strong></a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#ssl-tls-https"><strong>SSL/ TLS, HTTPS</strong></a>
      <ul>
        <li><a href="#ssl-tls--secure-soket-layer-transport-layer-security-"><strong>SSL/ TLS ( Secure Soket Layer, Transport Layer Security )</strong></a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li>
      <ul>
        <li><a href="#ssl-handshake"><strong>SSL handshake</strong></a></li>
      </ul>
    </li>
  </ul>
</nav>


    </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="aws의-외부환경-구성"><strong>AWS의 외부환경 구성</strong></h1>
<hr>
<h2 id="dns--domain-name-system-"><strong>DNS ( Domain Name System )</strong></h2>
<h1 id="heading"></h1>
<p><img src="/AWS/53/DNS.gif" alt="DNS" /></p>
<ul>
<li>DNS란 도메인네임서버를 일컫으며, 인터넷은 서버들을 유일하게 구분할 수 있는 IP주소 체계를 보다 인간이 읽게 쉽게 하기 위해 계발되었다.</li>
<li>흔히 우리가 알고 있는 naver.com, google.com, daum.net 모두 DNS이다.</li>
<li>AWS에서는 Route 53을 활용해 도메인 서비스를 지원한다.
 </li>
</ul>
<h2 id="aws-route-53"><strong>AWS Route 53</strong></h2>
<hr>
<h1 id="heading-1"></h1>
<p><img src="/AWS/53/53.png" alt="DNS" /></p>
<ul>
<li>AWS의 DNS 서비스 ( 도메인 등록, DNS 라우팅, Health check )</li>
<li>도메인 등록시 약 12.000원 정도 지불해야 하며, 최대 3일 정도 걸림</li>
<li>해당 도메인을 AWS 내 서비스 ( EC2, ELB, S3 등 ) 와 연결 할 수 있으며 AWS 외 요소들과도 연결 가능</li>
<li>도메인 생성 후 레코드 세트를 생성하여 하위 도메인을 등록할 수 있음</li>
<li>레코드 세트 등록시에는 IP 주소, 도메인, ‘Alias’ 등을 지정하여 쿼리를 라우팅할 수 있음</li>
</ul>
<h1 id="heading-2"></h1>
<h3 id="route-53의-라우팅-정책"><strong>Route 53의 라우팅 정책</strong></h3>
<ul>
<li><strong>Simple :</strong> 동일 레코드 내에 다수의 IP를 지정하여 라우팅 가능, 값을 다수 지정한 경우 무작위로 반환함</li>
<li><strong>Weighted :</strong> Region 별 부하 분산 가능, 각 가중치를 가진 동일한 이름의 A 레코드를 만들어 IP를 다르게 줌</li>
<li><strong>Latency-based :</strong> 지연 시간이 가장 적은, 즉 응답시간이 가장 빠른 리전으로 쿼리를 요청</li>
<li><strong>Failover :</strong> A/S 설정에서 사용됨, Main과 DR로 나누어 Main 장애시 DR로 쿼리</li>
<li><strong>Geolocation</strong> : 각 지역을 기반으로 가장 가까운 리전으로 쿼리 수행, 레코드 생성시 지역을 지정할 수 있음</li>
<li><strong>Geo-proximity</strong> : Traffic flow를 이용한 사용자 정의 DNS 쿼리 생성 가능</li>
<li><strong>Multi-value answer :</strong> 다수의 IP를 지정한다는 것은 simpl와 비슷하지만 health check가 가능 ( 실패시 자동 Failover )</li>
</ul>
<h1 id="heading-3"></h1>
<hr>
<blockquote>
<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>AWS Route 사용방법</span>
      <span>...</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      <h1 id="heading"></h1>
<h2 id="aws-route-사용방법"><strong>AWS Route 사용방법</strong></h2>
<hr>
<h3 id="aws-서비스에-route를-검색-후-route-53을-선택한다"><strong>AWS 서비스에 route를 검색 후 Route 53을 선택한다.</strong></h3>
<p><img src="/AWS/53/DNS.png" alt="DNS"></p>
<h1 id="heading-1"></h1>
<p> </p>
<h3 id="route-53의-원하는-서비스를-선택한다"><strong>Route 53의 원하는 서비스를 선택한다.</strong></h3>
<p><img src="/AWS/53/DNS2.png" alt="DNS"></p>
<h1 id="heading-2"></h1>
<p> </p>
<h1 id="heading-3"></h1>
<h2 id="각-서비스의-간략한-설명"><strong>각 서비스의 간략한 설명</strong></h2>
<hr>
<h1 id="heading-4"></h1>
<h3 id="도메인-등록"><strong>도메인 등록</strong></h3>
<p><img src="/AWS/53/DNS3.png" alt="DNS"> 
<img src="/AWS/53/DNS3-1.png" alt="DNS"></p>
<ul>
<li>단순 도메인을 구입하여 등록한다.</li>
</ul>
<h1 id="heading-5"></h1>
<p> </p>
<h3 id="트래픽-흐름-처리"><strong>트래픽 흐름 처리</strong></h3>
<p><img src="/AWS/53/DNS4.png" alt="DNS"></p>
<ul>
<li>트래픽 처리 등의 룰을 추가한다.</li>
</ul>
<h1 id="heading-6"></h1>
<p> </p>
<h3 id="dns-관리"><strong>DNS 관리</strong></h3>
<p><img src="/AWS/53/DNS5.png" alt="DNS"></p>
<ul>
<li>호스트 도메인을 등록한다</li>
</ul>
<h1 id="heading-7"></h1>
<p> </p>
<h3 id="모니터링-서비스는-dns-흐름-프로세스를-모니터링-하는-서비스"><strong>모니터링 서비스는 DNS 흐름 프로세스를 모니터링 하는 서비스</strong></h3>

    </div>
  </label>
</div>

</blockquote>
<h1 id="heading-4"></h1>
<p> </p>
<h1 id="heading-5"></h1>
<p> </p>
<h2 id="ssl-tls-https"><strong>SSL/ TLS, HTTPS</strong></h2>
<hr>
<h3 id="ssl-tls--secure-soket-layer-transport-layer-security-"><strong>SSL/ TLS ( Secure Soket Layer, Transport Layer Security )</strong></h3>
<p><img src="/AWS/53/ST.png" alt="SSL/TLS" /></p>
<ul>
<li>상위 계층 메시지를 분할, 압축하고 메시지 인증 코드 ( MAC )추가 및 암호화하는 작업을 수행하는 프로토콜</li>
<li>Handshake 프로토콜에서 클라이언트와 서버는 상대방을 확인하고 사용할 키 교환 방식, 암호화 방식, 생성에 필요한 값 등을 전달하여 암호화 채널 수립을 위한 항목들을 협상</li>
<li>단말 ( PC, server 등 )과 단만간의 암호화 통신을 위한 프로토콜</li>
<li>SSLv1은 최초의 버전으로서 문제가 많아 발표되지 않고 사장됨</li>
<li>SSLv2부터 공개가 되었으며 보다더 나은 버전인 SSLv3가 나왔으면 이를 기반으로 TLSv1 생성</li>
<li>TLSv1.0 v1.1, v1.2, v1.3이 나왔지만 아직 많은 브라우저에서 TLSv3을 지원하지 않음</li>
</ul>
<h1 id="heading-6"></h1>
<h3 id="ssl-handshake"><strong>SSL handshake</strong></h3>
<p><img src="/AWS/Se/3Hand.png" alt="3Hand" /></p>
<ul>
<li>Client Hello: Client가 Server에게 자신이 사용가능한 Random byte( 대칭키 생성에 사용됨 ), Session ID, S니/ TLS 버전이 포함된 Cipher suite list를 전달</li>
<li>Server Hello: Server 가 Client가 보낸 Cipher suite List 중 하나를 선택해 전달</li>
<li>Client Key exchange: 키 교환 실시 ( 실제 데이터 암호화에 사용할 키를 전달하여, S니 인증서에서 추출된 공개키로 암호화 )</li>
<li>Server certificate: 서버의 인증서를 클라이언트에게 전송</li>
<li>Sever hello done: 서버 전달 종료</li>
<li>Change cipher Specs, Finished: 이후 보내는 메시지들은 협상된 암호화 알고리즘에 따라 보낼 것임을 통보</li>
<li>Finished, Change cipher Specs: 클라이언트가 보낸 메시지를 확인 후, handshake를 종료하고 하나의 대칭키로 통신한다고 통보</li>
</ul>
<h1 id="heading-7"></h1>
<blockquote>
<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>AWS 콘솔 SSL/ TLS 설치</span>
      <span>...</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      <h1 id="heading"></h1>
<h2 id="aws-콘솔-ssl-tls-설치"><strong>AWS 콘솔 SSL/ TLS 설치</strong></h2>
<hr>
<h1 id="heading-1"></h1>
<h3 id="aws-서비스에서-certificate-검색"><strong>AWS 서비스에서 certificate 검색</strong></h3>
<p><img src="/AWS/Se/ST.png" alt="ST"></p>
<h1 id="heading-2"></h1>
<p> </p>
<h3 id="인증서를-만들-것인지-혹은-사설-인증기관을-사용할-것인지를-선택"><strong>인증서를 만들 것인지 혹은 사설 인증기관을 사용할 것인지를 선택</strong></h3>
<p><img src="/AWS/Se/ST2.png" alt="ST"></p>
<h1 id="heading-3"></h1>
<p> </p>
<h3 id="프로비저닝이-선택할-경우"><strong>프로비저닝이 선택할 경우</strong></h3>
<p><img src="/AWS/Se/ST3.png" alt="ST"></p>
<ul>
<li>기존의 다른 업체에서 이미 발급받은 경우 Certificate Manager을 통해 등록이 가능하며, 무료로 발급도 가능</li>
</ul>
<h1 id="heading-4"></h1>
<p> </p>
<h3 id="적용시킬-도메인-이름-선택"><strong>적용시킬 도메인 이름 선택</strong></h3>
<p><img src="/AWS/Se/ST4.png" alt="ST"></p>
<h1 id="heading-5"></h1>
<p> 
<img src="/AWS/Se/ST5.png" alt="ST"></p>
<ul>
<li><strong>DNS 검증 :</strong> Certificate Manager에서 제시하는 특정 레코드를 추가해서 본임임을 인증</li>
<li><strong>이메일 검증 :</strong> 해당 도메인의 관리자 계정으로 이메일을 보내서 본임임을 인증, 이 방법을 이용하기 위해서는 해당 도메인의 메일 서버에 연동되어 있어야 가능</li>
</ul>
<h1 id="heading-6"></h1>
<p> </p>
<h3 id="검증방법-선택"><strong>검증방법 선택</strong></h3>
<p><img src="/AWS/Se/ST6.png" alt="ST"></p>
<ul>
<li>요청이 완료되면 해당 도메인에 다음과 같은 이름과 값으로 CNAME 기록을 추가 해야 하며, AWS가 아닌 업체를 통해서 했다면 해당 업체의 사이트에서 레코드를 추가하면 되며, Route 53을 통해 자동으로 레코드 생성이 가능</li>
</ul>
<h1 id="heading-7"></h1>
<p> </p>
<ul>
<li>발급한 인증서를 로드 밸런서의의 기존에 생성했던 리스너를 추가시킨 후, 인증서를 추가하면 추가가 완료된 것을 확인할 수 있으며, http://가 아닌 https:// 접속이 가능한 것을 확인할 수 있다.</li>
</ul>

    </div>
  </label>
</div>

</blockquote>
<p> </p>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex justify-between">





</div>

 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#dns--domain-name-system-"><strong>DNS ( Domain Name System )</strong></a></li>
  </ul>

  <ul>
    <li><a href="#aws-route-53"><strong>AWS Route 53</strong></a></li>
  </ul>

  <ul>
    <li>
      <ul>
        <li><a href="#route-53의-라우팅-정책"><strong>Route 53의 라우팅 정책</strong></a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#ssl-tls-https"><strong>SSL/ TLS, HTTPS</strong></a>
      <ul>
        <li><a href="#ssl-tls--secure-soket-layer-transport-layer-security-"><strong>SSL/ TLS ( Secure Soket Layer, Transport Layer Security )</strong></a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li>
      <ul>
        <li><a href="#ssl-handshake"><strong>SSL handshake</strong></a></li>
      </ul>
    </li>
  </ul>
</nav>

 
    </aside>
    
  </main>

  
</body>
</div>
</html>















