<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Auto Scaling  Auto Scaling  EC2 인스턴스를 자동으로 시작하거나 종료하여 애플리케이션 로드를 처리하기에 적절한 수의 EC를 유지할 수 있도록 하는 서비스 사용자가 정의하는 조건에 따라 EC2 개수를 자동으로 확장 또는 축소가 가능 모니터링을 통해 비정상 인스턴스를 탐지하고 교체할 수 있음 수요가 급증할 경우 EC2 수를 자동으로 늘려 성능을 유지하고 수요가 적을 경우 수를 줄여 비용을 절감 ELB의 대상그룹을 Auto Scaling Group( ASG )에 포함시켜 자동생성된 EC2로 하여금 트래픽 부하분산을 하도록 설정가능 수요 변화가 예측 나응한 경우 예약된 일정을 통해 정해싲 시간에 늘리거나 줄이도록 설정이 가능 ASG 내 손상된 인스턴스가 발견될 경우, Auto Scaling은 이를 자동으로 종료하고 새로운 인스턴스로 교체  ELB를 사용하는 경우, ELB가 손상된 인스턴스를 트래픽 요청 대상에서 분리시킨 후, Auto Scaling이 이를 새로운 인스턴스로 교체   비정상 서버 탐지 후 Auto Scaling이 새로운 인스턴스를 In Service 상태를 만들기까지 5분 이내 소요   AWS Auto Scaling 그룹."><meta property="og:title" content="" />
<meta property="og:description" content="Auto Scaling  Auto Scaling  EC2 인스턴스를 자동으로 시작하거나 종료하여 애플리케이션 로드를 처리하기에 적절한 수의 EC를 유지할 수 있도록 하는 서비스 사용자가 정의하는 조건에 따라 EC2 개수를 자동으로 확장 또는 축소가 가능 모니터링을 통해 비정상 인스턴스를 탐지하고 교체할 수 있음 수요가 급증할 경우 EC2 수를 자동으로 늘려 성능을 유지하고 수요가 적을 경우 수를 줄여 비용을 절감 ELB의 대상그룹을 Auto Scaling Group( ASG )에 포함시켜 자동생성된 EC2로 하여금 트래픽 부하분산을 하도록 설정가능 수요 변화가 예측 나응한 경우 예약된 일정을 통해 정해싲 시간에 늘리거나 줄이도록 설정이 가능 ASG 내 손상된 인스턴스가 발견될 경우, Auto Scaling은 이를 자동으로 종료하고 새로운 인스턴스로 교체  ELB를 사용하는 경우, ELB가 손상된 인스턴스를 트래픽 요청 대상에서 분리시킨 후, Auto Scaling이 이를 새로운 인스턴스로 교체   비정상 서버 탐지 후 Auto Scaling이 새로운 인스턴스를 In Service 상태를 만들기까지 5분 이내 소요   AWS Auto Scaling 그룹." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://mung0001.github.io/docs/aws/auto-scaling/" />


<title>왈왈왈</title>
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.63eb88daa545365405ecdbb21033286a325c60a36cfa6d22d21e7c3bc9286941.css" integrity="sha256-Y&#43;uI2qVFNlQF7NuyEDMoajJcYKNs&#43;m0i0h58O8koaUE=">
<script defer src="/en.search.min.2fa33d70f5a54b2b10e932c378ba427b799999c7dd96d5592fa492b7f5f58492.js" integrity="sha256-L6M9cPWlSysQ6TLDeLpCe3mZmcfdltVZL6SSt/X1hJI="></script>
<!--

-->

  
</head>

<body>
  <div class="background">
  <input type="checkbox" class="hidden" id="menu-control" />
  <main class="container flex" style="max-width:95%;" >
    <aside class="book-menu">
      
  <nav>
<h2 class="book-brand">
  <a href="/"><span>왈왈왈</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  

  
  





 
  
    




  
  <ul>
    
      
        

  <li>
    

  
  <a href="/docs/aws/" class="collapsed ">A W S</a>
  


    




  
  <ul>
    
      
        <li>

  
  <a href="/docs/aws/auto-scaling/" class="active">Auto Scaling</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/aws/%EC%96%91%EC%8B%9D/" class="">양식</a>
  

</li>
      
    
  </ul>
  



  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/basic/" class="collapsed ">Basic</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/programing/" class="collapsed ">Programing</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/study/" class="collapsed ">Study</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/%EB%B0%B0%EC%B9%98-%EC%A0%84/" class="collapsed ">배치 전</a>
  


    






  </li>


      
    
  </ul>
  



  














  
<ul>
  
  <li>
    <a href="/posts/" >
        Blog
      </a>
  </li>
  
</ul>







</nav>




  <script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script>


 
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Auto Scaling</strong>

  <label for="toc-control">
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
  </label>
</div>


  
    <input type="checkbox" class="hidden" id="toc-control" />
    <aside class="hidden clearfix">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#auto-scaling-1"><strong>Auto Scaling</strong></a></li>
  </ul>

  <ul>
    <li><a href="#시작-구성-launch-configuration-"><strong>시작 구성( Launch Configuration )</strong></a></li>
  </ul>

  <ul>
    <li><a href="#조정-정책--scaling-"><strong>조정 정책 ( Scaling )</strong></a></li>
  </ul>

  <ul>
    <li><a href="#조정-휴지--scaling-cooldown-"><strong>조정 휴지 ( Scaling Cooldown )</strong></a></li>
  </ul>

  <ul>
    <li><a href="#수명주기-후크--life-cycle-hook-"><strong>수명주기 후크 ( Life Cycle Hook )</strong></a></li>
  </ul>

  <ul>
    <li><a href="#auto-scaling-생성"><strong>Auto Scaling 생성</strong></a></li>
  </ul>
</nav>


    </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="auto-scaling">Auto Scaling</h1>
<hr>
<h2 id="auto-scaling-1"><strong>Auto Scaling</strong></h2>
<p><img src="/AWS/Auto_Scaling.jpg" alt="Auto_Scaling" /></p>
<ul>
<li>EC2 인스턴스를 자동으로 시작하거나 종료하여 애플리케이션 로드를 처리하기에 적절한 수의 EC를 유지할 수 있도록 하는 서비스</li>
<li>사용자가 정의하는 조건에 따라 EC2 개수를 자동으로 확장 또는 축소가 가능</li>
<li>모니터링을 통해 비정상 인스턴스를 탐지하고 교체할 수 있음</li>
<li>수요가 급증할 경우 EC2 수를 자동으로 늘려 성능을 유지하고 수요가 적을 경우 수를 줄여 비용을 절감</li>
<li>ELB의 대상그룹을 Auto Scaling Group( ASG )에 포함시켜 자동생성된 EC2로 하여금 트래픽 부하분산을 하도록 설정가능</li>
<li>수요 변화가 예측 나응한 경우 예약된 일정을 통해 정해싲 시간에 늘리거나 줄이도록 설정이 가능</li>
<li>ASG 내 손상된 인스턴스가 발견될 경우, Auto Scaling은 이를 자동으로 종료하고 새로운 인스턴스로 교체
<ul>
<li>ELB를 사용하는 경우, ELB가 손상된 인스턴스를 트래픽 요청 대상에서 분리시킨 후, Auto Scaling이 이를 새로운 인스턴스로 교체</li>
</ul>
</li>
<li>비정상 서버 탐지 후 Auto Scaling이 새로운 인스턴스를 In Service 상태를 만들기까지 5분 이내 소요</li>
</ul>
<blockquote>
<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>AWS Auto Scaling 그룹</span>
      <span>...</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      <h2 id="aws-auto-scaling-그룹">AWS Auto Scaling 그룹</h2>
<hr>
<p><img src="/AWS/Auto_Scaling2.png" alt="Auto_Scaling"></p>
<ul>
<li>AWS Auto Scaling 그룹은 AWS에서 제공하는 <strong>자동 다중 서버 서비스</strong>를 의미한다.</li>
<li>즉, Auto Scaling 그룹은 같은 사양, 같은 환경, 같은 코드를 가지고 있는 같은 EC2 인스턴스들의 묶음을 의미하며, <strong>Auto Scaling은 인스턴스의 수를 자동으로 늘리고, 자동으로 줄일 수 있는 서비스</strong>를 의미한다.</li>
</ul>
<h1 id="heading"></h1>
<h1 id="heading-1"></h1>
<h2 id="aws-auto-scaling-그룹의-응용-예시"><strong>AWS Auto Scaling 그룹의 응용 예시</strong></h2>
<hr>
<ol>
<li>자원 사용량을 기준으로 한 자동 조정</li>
<li>시간을 기준으로한 자종 조정</li>
</ol>
    </div>
  </label>
</div>

</blockquote>
<hr>
<h1 id="heading"></h1>
<h2 id="시작-구성-launch-configuration-"><strong>시작 구성( Launch Configuration )</strong></h2>
<ul>
<li>Auto Scaling에서 새로운 인스턴스를 시작할 때 기반이 되는 구성</li>
<li>AMI ( Amazon Machine Image ), 인스턴스 유형, 보안그룹, 스토리지 등 EC2를 생성할 때와 마찬가지로 옵션을 구성할 수 있음</li>
<li>시작 구성은 한 번 생성시 수정이 불가능하며, 복사와 삭제만 가능</li>
<li>시작 구성을 변경하기 위해서는 기존의 시작구성을 새로운 시작 구성을 만드는 재료로 사용해야 함</li>
<li>하나의 ASG는 하나의 시작구성을 반드시 가짐</li>
</ul>
<hr>
<h1 id="heading-1"></h1>
<h2 id="조정-정책--scaling-"><strong>조정 정책 ( Scaling )</strong></h2>
<ul>
<li>최소, 목표, 최대 크기를 설정할 수 있고, 별다른 정책이 없을 경우 목표 크기를 유지하려 함</li>
<li>또한 3가지 동적 정책 사용 가능</li>
<li>대상 추적 정채: ASG의 지표 평균값을 목표로 인스턴스 수를 조절
<ul>
<li>평균 CPU 사용률, 네트워크 입/ 출력, 로드밸런서 요청 수</li>
</ul>
</li>
<li>단순 조정 정책: 지표의 임계치에 도달할 경우, 사용자가 정한 인스턴스 수를 늘리거나 감소시키는 정책</li>
<li>단계 조정 정책: 단순 조정 정책과 기본은 같지만, 지표 값에 따라 증감 수를 다르게 줄 수 있음 ( 즉 트리거가 여러 개 )</li>
</ul>
<hr>
<h1 id="heading-2"></h1>
<h2 id="조정-휴지--scaling-cooldown-"><strong>조정 휴지 ( Scaling Cooldown )</strong></h2>
<ul>
<li>시작 구성을 이용한 ASG 생성 시점을 포함혀여 인스턴스 생성 혹은 제거 후, 지표의 임계값을 넘더라도 인스턴스를 생성하지 않고 기다리는 시간</li>
<li>300초</li>
</ul>
<h1 id="heading-3"></h1>
<h2 id="수명주기-후크--life-cycle-hook-"><strong>수명주기 후크 ( Life Cycle Hook )</strong></h2>
<ul>
<li>Scale In / Out: In은 감소를, Out은 증가를 뜻함</li>
<li>지표의 임계값에 의해, Scale In/ Out 이 되고 나나 후 In service 상태에 돌입하기 전에 사용자가 정의한 작업을 수행하는 시간을 설정하는 기능</li>
<li>기본 3600초</li>
<li>즉 인스턴스 시작/ 종료시 사용자가 작업을 수행할 수 있음</li>
<li>이 시간동안 인스턴스에 설치 / 설정 등이 가능</li>
<li>가령, Cloudwatch를 사용하면 수명주기 작업이 발생시, Lamda 함수를 호출시키도록 설정 가능</li>
</ul>
<hr>
<h1 id="heading-4"></h1>
<h1 id="heading-5"></h1>
<h2 id="auto-scaling-생성"><strong>Auto Scaling 생성</strong></h2>
<blockquote>
<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>Auto Scaling 생성</span>
      <span>...</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      <h2 id="aws-scaling-생성방법"><strong>AWS Scaling 생성방법</strong></h2>
<hr>
<ol>
<li><strong>EC2 서비스의 [ 인스턴스 ] &ndash;&gt; 인스턴스 메뉴에서 AMI를 생성할 인스턴스가 stooped 상태임을 확인</strong></li>
</ol>
<h1 id="heading"></h1>
<ol start="2">
<li><strong>stooped 상태가 아니면 EC2를 중지시키고, 이미지에서 이미지 생성을 클릭</strong>
<img src="/AWS/Auto_Scaling3.png" alt="Auto_Scaling_install"></li>
</ol>
<h1 id="heading-1"></h1>
<ol start="3">
<li><strong>생성할 이미지의 설정을 지정 후 이미지를 생성</strong> 
<img src="/AWS/Auto_Scaling4.png" alt="Auto_Scaling_install"></li>
</ol>
<h1 id="heading-2"></h1>
<ol start="4">
<li><strong>생성이 완료되면, 메뉴에 [ 이미지 ] &ndash;&gt; AMI 를 클릭한다. 이 때 생성된 AMI ID를 복사한다.</strong>
<img src="/AWS/Auto_Scaling5.png" alt="Auto_Scaling_install"></li>
</ol>
<h1 id="heading-3"></h1>
<ol start="5">
<li><strong>메뉴에 [ 인스턴스 ] &ndash;&gt; 시작 템플렛이로 이동 후 시작 템플릿 생성을 누른다</strong>
<img src="/AWS/Auto_Scaling3.png" alt="Auto_Scaling_install"></li>
</ol>
<h1 id="heading-4"></h1>
<ol start="6">
<li><strong>시작 템플릿을 작성한다. ( 전에 복사한 AMI ID 값을 Amazon Machine Image : AMI에 등록한다. )</strong>
<img src="/AWS/Auto_Scaling7.png" alt="Auto_Scaling_install">
<img src="/AWS/Auto_Scaling8.png" alt="Auto_Scaling_install"></li>
</ol>
<h1 id="heading-5"></h1>
<ol start="7">
<li><strong>하단의 네트워크 설정 ( 보안그룹 ) 등의 나머지 값을 기입한 후 시작 탬플릿 생성을 누른다.</strong>
<img src="/AWS/Auto_Scaling9.png" alt="Auto_Scaling_install"></li>
</ol>
<h1 id="heading-6"></h1>
<ol start="8">
<li><strong>메뉴에 [ AUTO SCALING ] &ndash;&gt; Auto Scaling 그룹을 선택한 후 Auto Scaling 그룹 생성을 클릭한다.</strong>
<img src="/AWS/Auto_Scaling11.png" alt="Auto_Scaling_install"></li>
</ol>
<h1 id="heading-7"></h1>
<ol start="9">
<li><strong>메뉴에서 시작 템플릿을 선택 후, 전에 생성된 시작 템플릿을 선택 한 후 진행한다.</strong> 
<img src="/AWS/Auto_Scaling10.png" alt="Auto_Scaling_install"></li>
</ol>
<h1 id="heading-8"></h1>
<ol start="10">
<li><strong>Auto Scaling 그룹을 설정하는 화면으로 서브넷은 인스턴스드을 어떤 네트워크 망에 띄울 것임을 지정하는 것으로, 이는 생성하는 인스턴스 들 중 절반은 서울 리전 a, 다른 절반은 서울 리전 c의 가용영역으로 생성한다는 것을 의미한다.</strong>
<img src="/AWS/Auto_Scaling12.png" alt="Auto_Scaling_install"></li>
</ol>
<h1 id="heading-9"></h1>
<ol start="11">
<li><strong>Auto Scaling 그룹 내 인스턴스 수를 자동으로 조절하기 위한 조정 정책을 설정하는 화면으로 CPU 사용률 80%를 기준으로 최소 1대 ~ 최대 2대로 자동으로 변화시킨다.</strong>
<img src="/AWS/Auto_Scaling13.png" alt="Auto_Scaling_install"></li>
</ol>
<h1 id="heading-10"></h1>
<ol start="12">
<li><strong>Auto Scaling 그룹 내 인스턴스 변화가 있을 경우 알림을 받게 설정할 수 있다.</strong>
<img src="/AWS/Auto_Scaling14.png" alt="Auto_Scaling_install"></li>
</ol>
<h1 id="heading-11"></h1>
<ol start="13">
<li><strong>Auto Scaling 그룹 검토로, 현재까지의 설정값의 오류가 없는 지 확인한 후 그룹을 생선한다.</strong>
<img src="/AWS/Auto_Scaling15.png" alt="Auto_Scaling_install"></li>
</ol>
<h1 id="heading-12"></h1>
<ol start="14">
<li><strong>Auto Scaling 그룹의 생성이 완료되었음을 확인 할 수 있다.</strong>
<img src="/AWS/Auto_Scaling16.png" alt="Auto_Scaling_install"></li>
</ol>
<h1 id="heading-13"></h1>
    </div>
  </label>
</div>

</blockquote>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex justify-between">





</div>

 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#auto-scaling-1"><strong>Auto Scaling</strong></a></li>
  </ul>

  <ul>
    <li><a href="#시작-구성-launch-configuration-"><strong>시작 구성( Launch Configuration )</strong></a></li>
  </ul>

  <ul>
    <li><a href="#조정-정책--scaling-"><strong>조정 정책 ( Scaling )</strong></a></li>
  </ul>

  <ul>
    <li><a href="#조정-휴지--scaling-cooldown-"><strong>조정 휴지 ( Scaling Cooldown )</strong></a></li>
  </ul>

  <ul>
    <li><a href="#수명주기-후크--life-cycle-hook-"><strong>수명주기 후크 ( Life Cycle Hook )</strong></a></li>
  </ul>

  <ul>
    <li><a href="#auto-scaling-생성"><strong>Auto Scaling 생성</strong></a></li>
  </ul>
</nav>

 
    </aside>
    
  </main>

  
</body>
</div>
</html>















