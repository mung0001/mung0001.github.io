<!DOCTYPE html>
<html lang="en">

<head>
  <script data-ad-client="ca-pub-1022327295984162" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="AWS ELB 생성    이번 장에서는 생성된 인스턴스들을 로드밸런싱하는 방법에 대해 알아보도록 하겠습니다. ELB 또한 중요한 개념이니, ELB에 대한 학습을 원하는 분들은 AWS ELB를 참고해주세요.    AWS ELB 생성    ELB에 대한 생성 순서은 아래의 순서대로 진행합니다.   1. 인스턴스 생성
2. 대상그룹 생성
3. 로드 밸런서 생성
  인스턴스 생성   먼저 기본 VPC에 가용영역 a와 c에 한 대씩, 총 두 대의 인스턴스를 생성해주세요.">



<meta name="robots" content="index,follow">
<link rel="canonical" href=/docs/aws/awstraining/elb/><meta property="og:title" content="AWS ELB ( 2 Tier ) 생성" />
<meta property="og:description" content="AWS ELB 생성    이번 장에서는 생성된 인스턴스들을 로드밸런싱하는 방법에 대해 알아보도록 하겠습니다. ELB 또한 중요한 개념이니, ELB에 대한 학습을 원하는 분들은 AWS ELB를 참고해주세요.    AWS ELB 생성    ELB에 대한 생성 순서은 아래의 순서대로 진행합니다.   1. 인스턴스 생성
2. 대상그룹 생성
3. 로드 밸런서 생성
  인스턴스 생성   먼저 기본 VPC에 가용영역 a와 c에 한 대씩, 총 두 대의 인스턴스를 생성해주세요." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://mung0001.github.io/docs/aws/awstraining/elb/" /><meta property="article:section" content="docs" />




<title>뭉게뭉게</title>
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.63eb88daa545365405ecdbb21033286a325c60a36cfa6d22d21e7c3bc9286941.css" integrity="sha256-Y&#43;uI2qVFNlQF7NuyEDMoajJcYKNs&#43;m0i0h58O8koaUE=">
<script defer src="/en.search.min.cfe183d6f35d1a97a1dd0584672a647fe076fe7389bfde63289c43f6dd91af29.js" integrity="sha256-z&#43;GD1vNdGpeh3QWEZypkf&#43;B2/nOJv95jKJxD9t2Rryk="></script>
<!--

-->

   

</head>

<body>
  <div class="background">
  <input type="checkbox" class="hidden" id="menu-control" />
  <main class="container flex" style="max-width:100%;" >
    <aside style="padding: 1.5%; max-width: 90%;" class="book-menu">
      
  
<nav styles="background-color:red; position=none;">
구름이 
<h2 class="book-brand">
  <a href="/"><span>뭉게뭉게</span>
  </a>
</h2>


<div style="padding-top: 0.2cm; font-size: 0.9em; font-weight: bolder;">
  <div style ="padding-bottom: 0.3cm;">
    Name : Jengkeun Lee
  </div>
  <div style ="padding-bottom: 0.3cm;">
    Mail : mung0001@naver.com
  </div>
</div>

<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  

  
  




 
  
    




  
  <ul>
    
      
        

  <li class="book-section-flat" >
    

  
  <a href="/docs/aws/" class="">Amazon Web Services</a>
  


    




  
  <ul>
    
      
        

  <li>
    

  
  <a href="/docs/aws/amazonwebservice/" class="collapsed ">AWS docs</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/aws/awstraining/" class="collapsed ">AWS Training</a>
  


    




  
  <ul>
    
      
        <li >

  
  <a href="/docs/aws/awstraining/start/" class="">AWS 시작하기</a>
  

</li>
      
    
      
        <li >

  
  <a href="/docs/aws/awstraining/iam/" class="">AWS 사용자 계정 생성</a>
  

</li>
      
    
      
        <li >

  
  <a href="/docs/aws/awstraining/cli/" class="">AWS CLI 활용</a>
  

</li>
      
    
      
        <li >

  
  <a href="/docs/aws/awstraining/vpc/" class="">AWS 사용자 정의 VPC 생성</a>
  

</li>
      
    
      
        <li >

  
  <a href="/docs/aws/awstraining/ec2/" class="">AWS EC2 생성</a>
  

</li>
      
    
      
        <li >

  
  <a href="/docs/aws/awstraining/ami/" class="">AWS AMI 생성</a>
  

</li>
      
    
      
        <li >

  
  <a href="/docs/aws/awstraining/eip/" class="">AWS Elastic IP 할당</a>
  

</li>
      
    
      
        <li >

  
  <a href="/docs/aws/awstraining/elb/" class="active">AWS ELB ( 2 Tier ) 생성</a>
  

</li>
      
    
      
        <li >

  
  <a href="/docs/aws/awstraining/as/" class="">AWS AutoScaling</a>
  

</li>
      
    
      
        <li >

  
  <a href="/docs/aws/awstraining/rds/" class="">AWS RDS 생성</a>
  

</li>
      
    
      
        <li >

  
  <a href="/docs/aws/awstraining/3tier/" class="">AWS 3Tier 구현</a>
  

</li>
      
    
      
        <li >

  
  <a href="/docs/aws/awstraining/s3/" class="">AWS S3 생성</a>
  

</li>
      
    
      
        <li >

  
  <a href="/docs/aws/awstraining/owncloud/" class="">AWS OwnCloud</a>
  

</li>
      
    
      
        <li >

  
  <a href="/docs/aws/awstraining/cloudformation/" class="">AWS CloudFormation</a>
  

</li>
      
    
      
        <li >

  
  <a href="/docs/aws/awstraining/noserver/" class="">AWS 서버리스 사이트 구축</a>
  

</li>
      
    
      
        <li >

  
  <a href="/docs/aws/awstraining/ebs/" class="">정리 중</a>
  

</li>
      
    
      
        <li >

  
  <a href="/docs/aws/awstraining/cognito/" class="">AWS Cognito</a>
  

</li>
      
    
      
        <li >

  
  <a href="/docs/aws/awstraining/ec2site/" class="">EC2 동적 사이트 구축</a>
  

</li>
      
    
      
        <li >

  
  <a href="/docs/aws/awstraining/elasticbeanstalk/" class="">Elastic Beanstalk 사이트 구축</a>
  

</li>
      
    
      
        <li >

  
  <a href="/docs/aws/awstraining/ses/" class="">AWS SES 메일 시스템 구축</a>
  

</li>
      
    
      
        <li >

  
  <a href="/docs/aws/awstraining/aws-lambda-crawling/" class="">AWS Lambda Crawling</a>
  

</li>
      
    
      
        <li >

  
  <a href="/docs/aws/awstraining/game/" class="">EC2 끄투온라인 서버 구축</a>
  

</li>
      
    
  </ul>
  



  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/aws/awssaa/" class="collapsed ">AWS SAA 시험정리</a>
  


    






  </li>


      
    
  </ul>
  



  </li>


      
    
      
        

  <li class="book-section-flat" >
    

  
  <span>Microsoft Azure</span>
  


    




  
  <ul>
    
      
        

  <li>
    

  
  <a href="/docs/azure/microsoftazure/" class="collapsed ">Azure docs</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/azure/azuretraining/" class="collapsed ">Azure Training</a>
  


    






  </li>


      
    
  </ul>
  



  </li>


      
    
      
        

  <li class="book-section-flat" >
    

  
  <span>Google Cloud Platform</span>
  


    




  
  <ul>
    
      
        

  <li>
    

  
  <a href="/docs/gcp/googlecloudplatform/" class="collapsed ">GCP docs</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/gcp/gcptraining/" class="collapsed ">GCP Training</a>
  


    






  </li>


      
    
  </ul>
  



  </li>


      
    
      
        

  <li class="book-section-flat" >
    

  
  <span>Naver Cloud Platform</span>
  


    




  
  <ul>
    
      
        

  <li>
    

  
  <a href="/docs/ncp/navercloudplatform/" class="collapsed ">NCP docs</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/ncp/ncptraining/" class="collapsed ">NCP Training</a>
  


    






  </li>


      
    
  </ul>
  



  </li>


      
    
      
        

  <li class="book-section-flat" >
    

  
  <span>OpenStack</span>
  


    




  
  <ul>
    
      
        

  <li>
    

  
  <a href="/docs/openstack/openstack/" class="collapsed ">OpenStack docs</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/openstack/openstacktraining/" class="collapsed ">OpenStack Training</a>
  


    






  </li>


      
    
  </ul>
  



  </li>


      
    
      
        

  <li class="book-section-flat" >
    

  
  <span>operation</span>
  


    




  
  <ul>
    
      
        

  <li class="book-section-flat" >
    

  
  <span>Docker</span>
  


    




  
  <ul>
    
      
        

  <li>
    

  
  <a href="/docs/docker/docker/docker/" class="collapsed ">Docker docs</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/docker/docker/dockertraining/" class="collapsed ">Docker Training</a>
  


    






  </li>


      
    
  </ul>
  



  </li>


      
    
  </ul>
  



  </li>


      
    
      
        

  <li class="book-section-flat" >
    

  
  <span>Infra engineer</span>
  


    




  
  <ul>
    
      
        

  <li>
    

  
  <a href="/docs/infra/infra/" class="collapsed ">Infra engineer</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/infra/tia-942/" class="collapsed ">TIA-942</a>
  


    






  </li>


      
    
  </ul>
  



  </li>


      
    
      
        

  <li class="book-section-flat" >
    

  
  <span>development</span>
  


    




  
  <ul>
    
      
        

  <li>
    

  
  <a href="/docs/development/python/" class="collapsed ">Python docs</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/development/shell/" class="collapsed ">Shell Script</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/development/golang/" class="collapsed ">Golang</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/development/web/" class="collapsed ">Web</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/development/git/" class="collapsed ">Git</a>
  


    






  </li>


      
    
  </ul>
  



  </li>


      
    
      
        

  <li class="book-section-flat" >
    

  
  <span>Network</span>
  


    




  
  <ul>
    
      
        

  <li>
    

  
  <a href="/docs/network/network/" class="collapsed ">Network 기본</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/network/sophos/" class="collapsed ">Sophos</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/network/mail/" class="collapsed ">Mail</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/network/snort/" class="collapsed ">Snort</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/network/nm/" class="collapsed ">Network Master</a>
  


    






  </li>


      
    
  </ul>
  



  </li>


      
    
      
        

  <li class="book-section-flat" >
    

  
  <span>System</span>
  


    




  
  <ul>
    
      
        

  <li>
    

  
  <a href="/docs/system/nas/" class="collapsed ">NAS</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/system/linux/" class="collapsed ">Linux</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/system/window/" class="collapsed ">Windows Servers</a>
  


    






  </li>


      
    
  </ul>
  



  </li>


      
    
      
        

  <li class="book-section-flat" >
    

  
  <span>Database</span>
  


    




  
  <ul>
    
      
        

  <li>
    

  
  <a href="/docs/database/sqld/" class="collapsed ">SQLP&amp; SQLD</a>
  


    






  </li>


      
    
  </ul>
  



  </li>


      
    
      
        

  <li class="book-section-flat" >
    

  
  <a href="/docs/project/" class="">Project</a>
  


    




  
  <ul>
    
  </ul>
  



  </li>


      
    
  </ul>
  



  














  
<ul>
  
  <li>
    <a href="/posts/" >
        Blog
      </a>
  </li>
  
</ul>






<br>
<div>
<ins class="kakao_ad_area" style="display:none;" 
 data-ad-unit    = "DAN-Cv3IZfSyWHKijJh5" 
 data-ad-width   = "160" 
 data-ad-height  = "600"></ins> 
<script type="text/javascript" src="//t1.daumcdn.net/kas/static/ba.min.js" async></script>
<br>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1022327295984162"
     data-ad-slot="6213387116"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div>
<br>
<script src="https://ads-partners.coupang.com/g.js"></script>
<script>
	new PartnersCoupang.G({"id":402713,"template":"carousel","trackingCode":"AF0817069","width":"680","height":"140"});
</script>
</div>
</nav>




  <script>(function(){var a=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
    </aside>

    <div style="padding-left: 2.5%;" class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>AWS ELB ( 2 Tier ) 생성</strong>

  <label for="toc-control">
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
  </label>
</div>


  
    <input type="checkbox" class="hidden" id="toc-control" />
    <aside class="hidden clearfix">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#aws-elb-생성-1"><strong>AWS ELB 생성</strong></a></li>
  </ul>

  <ul>
    <li>
      <ul>
        <li><a href="#인스턴스-생성"><strong>인스턴스 생성</strong></a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li>
      <ul>
        <li><a href="#application-load-balancer-생성--이하-alb-"><strong>Application Load Balancer 생성 ( 이하 ALB )</strong></a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li>
      <ul>
        <li><a href="#network-load-balancer-생성--이하-nlb-"><strong>Network Load Balancer 생성 ( 이하 NLB )</strong></a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li>
      <ul>
        <li><a href="#classic-load-balancer-생성--이하-clb-"><strong>Classic Load Balancer 생성 ( 이하 CLB )</strong></a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li>
      <ul>
        <li></li>
      </ul>
    </li>
  </ul>
</nav>


    </aside>
  
 
      </header>

      <div>
<ins class="kakao_ad_area" style="display:none;" 
 data-ad-unit    = "DAN-ICAYRM98zmyBXxtc" 
 data-ad-width   = "320" 
 data-ad-height  = "100"></ins> 
<script type="text/javascript" src="//t1.daumcdn.net/kas/static/ba.min.js" async></script>
</div>
<br>
<br>
<br>
      
  <article class="markdown"><h1 id="aws-elb-생성"><strong>AWS ELB 생성</strong></h1>
<hr>
<h1 id="heading"></h1>
<ul>
<li><strong>이번 장에서는 생성된 인스턴스들을 로드밸런싱하는 방법에 대해 알아보도록 하겠습니다.</strong></li>
<li><strong>ELB 또한 중요한 개념이니, ELB에 대한 학습을 원하는 분들은 <a href="https://mung0001.github.io/docs/cloudcomputing/amazonwebservice/aws_as/#elastic-load-balancer">AWS ELB</a>를 참고해주세요.</strong></li>
</ul>
<h1 id="heading-1"></h1>
<blockquote>
<h2 id="aws-elb-생성-1"><strong>AWS ELB 생성</strong></h2>
</blockquote>
<h1 id="heading-2"></h1>
<ul>
<li><strong>ELB에 대한 생성 순서은 아래의 순서대로 진행합니다.</strong></li>
</ul>
<blockquote>
<p><strong>1. 인스턴스 생성</strong><br>
<strong>2. 대상그룹 생성</strong><br>
<strong>3. 로드 밸런서 생성</strong></p>
</blockquote>
<h1 id="heading-3"></h1>
<h3 id="인스턴스-생성"><strong>인스턴스 생성</strong></h3>
<h1 id="heading-4"></h1>
<p><img src="/AWS/ELB/ELB0.png" alt="" /></p>
<ul>
<li><strong>먼저 기본 VPC에 가용영역 a와 c에 한 대씩, 총 두 대의 인스턴스를 생성해주세요.</strong></li>
<li><strong>보안 그룹은 80은 모두에게, 8009는 서로간만 통신이 가능하게 설정해주세요.</strong></li>
<li><strong>그 후, a,c 인스턴스에 Apach와 Tomcat을 설치 및 연동시켜주세요.</strong></li>
</ul>
<h1 id="heading-5"></h1>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-tpl" data-lang="tpl">$ apt-get -y update
$ apt-get -y upgrade

$ apt-get install -y apache2
# apache2 설치

$ systemctl enable apache2
$ ufw allow 80/tcp
# apache2 자동시작 및 방화벽 허용 등록

$ apt-get install -y libapache2-mod-jk
# 연동 모듈

$ vi /etc/apache2/workers.properties

workers.tomcat_home=/usr/share/tomcat8
workers.java_home=/usr/lib/jvm/java-8-openjdk-amd64

worker.list=tomcat8
worker.tomcat8.port = 8009
worker.tomcat8.host = [ 서로 다른 인스턴스 IP ]
worker.tomcat8.type = ajp13
worker.tomcat8.lbfactor = 1
# 워커 파일 생성

$ vi /etc/apache2/mods-available/jk.conf
JkWorkersFile /etc/libapache2-mod-jk/workers.properties
--&gt; JkWorkersFile /etc/apache2/workers.properties

$ vi /etc/apache2/sites-available/000-default.conf
DocumentRoot /var/www/html
--&gt; DocumentRoot /var/lib/tomcat8/webapps/ROOT
SetEnvIF Request_URI &#34;/*.html&#34; no-jk
JkMount /*.jsp tomcat8
# jsp 파일만 tomcat에서 실행 

$ vi /var/www/html/index.html
각 인스턴스에 따라 apache1 and apache2를 입력합니다.

$ systemctl restart apache2
</code></pre></div><ul>
<li><strong>Apache 설치</strong></li>
</ul>
<h1 id="heading-6"></h1>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-tpl" data-lang="tpl">$ apt -y update 
$ apt -y upgrade

$ apt-get install lrzsz
# JAVA 간편 다운로드를 위한 Irzsz 설치

$ apt-get install -y openjdk-8-jre
$ apt-get install -y openjdk-8-jdk
# JAVA 설치

$ which javac
$ readlink -f /usr/bin/javac
# 자바 위치 확인

$ vi /etc/profile
export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
export PATH=$JAVA_HOME/bin/:$PATH
export CLASS_PATH=$JAVA_HOME/lib/:$CLASS_PATH
$ source /etc/profile
# 환경변수 설정

$ echo $JAVA_HOME
$ $JAVA_HOME/bin/javac -version
# 확인

$ apt-get install tomcat8 -y
# tomcat8 설치

$ /usr/share/tomcat8/bin/version.sh
# tomcat 설치 확인

$ ufw allow 8080/tcp
$ ufw allow 8009/tcp
# 방화벽 포트 열기

$ systemctl enable tomcat8
# tomcat 자동시작

$ apt-get install -y libapache2-mod-jk 
# 연동 모듈 설치

$ vi /etc/tomcat8/server.xml
    &lt;Connector port=&#34;8009&#34; protocol=&#34;AJP/1.3&#34; redirectPort=&#34;8443&#34; /&gt; 주석 헤제

$ systemctl restart tomcat8

$ vi /var/lib/tomcat8/webapps/ROOT/index.jsp
&lt;%@ page language=&#34;java&#34; contentType=&#34;text/html; charset=utf-8&#34;%&gt;

&lt;!-- 로컬 정보 --&gt;
Local IP : &lt;%= request.getRemoteAddr() %&gt;&lt;br&gt;
Local Host : &lt;%= request.getRemoteHost() %&gt;&lt;br&gt;

&lt;!-- 서버의 기본 경로 --&gt;
Context : &lt;%= request.getContextPath() %&gt; &lt;br&gt;
URL : &lt;%= request.getRequestURL() %&gt; &lt;br&gt;
URI : &lt;%= request.getRequestURI() %&gt; &lt;br&gt;
Path : &lt;%= request.getServletPath() %&gt;&lt;br&gt;
Server Port : &lt;%= request.getServerPort() %&gt;&lt;br&gt;&lt;br&gt;
서버 Root 경로 : &lt;%= application.getRealPath(&#34;/&#34;) %&gt;&lt;br&gt;
서버 Root 경로 : &lt;%= request.getRealPath(&#34;/&#34;) %&gt;&lt;br&gt;

&lt;%
String strServerIP = request.getServerName();                                    // 서버 ip
String strServerPort = Integer.toString(request.getServerPort());         // 서버 port
String serverRootUrl = &#34;http://&#34;+ strServerIP +&#34;:&#34;+ strServerPort +&#34;/&#34;;  // Root 경로
out.println(serverRootUrl );
%&gt;
</code></pre></div><ul>
<li><strong>Tomcat 설치</strong></li>
</ul>
<h1 id="heading-7"></h1>
<p> </p>
<h1 id="heading-8"></h1>
<h3 id="application-load-balancer-생성--이하-alb-"><strong>Application Load Balancer 생성 ( 이하 ALB )</strong></h3>
<h1 id="heading-9"></h1>
<ul>
<li><strong>ALB에 대한 설명은 <a href="">ALB Link</a>를 참조해주세요.</strong></li>
</ul>
<h1 id="heading-10"></h1>
<p><img src="/AWS/ELB/ELB01.png" alt="" /></p>
<ul>
<li><strong>ALB를 생성하기 위해 메뉴에서 로드 밸런서 -&gt; 로드밸런서 생성을 클릭합니다.</strong></li>
</ul>
<h1 id="heading-11"></h1>
<p> </p>
<h1 id="heading-12"></h1>
<p><img src="/AWS/ELB/ELB02.png" alt="" /></p>
<ul>
<li><strong>로드 밸런서의 유형 중 ALB를 선택합니다.</strong></li>
</ul>
<h1 id="heading-13"></h1>
<p> </p>
<h1 id="heading-14"></h1>
<p><img src="/AWS/ELB/ELB03.png" alt="" /></p>
<ul>
<li><strong>위의 그림과 같이 ALB의 구성에 대한 설정을 진행합니다.</strong></li>
<li><strong>체계의 인터넷 연결은 외부대역과의 통신을 위한 설정이고, 내부는 서브넷끼리의 통신을 위한 설정입니다.</strong></li>
<li><strong>리스너는 로드 밸런서에서 읽은 포트를 설정합니다.</strong></li>
<li><strong>가용 영역은 로드 밸런서가 활성화될 가용 영역을 지정합니다.</strong></li>
</ul>
<h1 id="heading-15"></h1>
<p> </p>
<h1 id="heading-16"></h1>
<p><img src="/AWS/ELB/ELB04.png" alt="" /></p>
<ul>
<li><strong>보안그룹은 외부와의 통신을 위해 80/tcp를 모두에게 개방하게 설정합니다.</strong></li>
</ul>
<h1 id="heading-17"></h1>
<p> </p>
<h1 id="heading-18"></h1>
<p><img src="/AWS/ELB/ELB05.png" alt="" /></p>
<ul>
<li><strong>위의 그림과 같이 라우팅 구성에 대한 설정을 진행합니다.</strong></li>
<li><strong>대상 유형은 라우팅의 대상이 될 서비스를 지정하는 설정입니다.</strong></li>
<li><strong>프로토콜과 포트는 대상 유형의 라우팅을 지정하는 설정입니다.</strong></li>
<li><strong>상태검사는 경로로 접속하였을 때, 접속이 가능하면 Health, 불가능하면 Unhealth로 나타냅니다.</strong></li>
</ul>
<h1 id="heading-19"></h1>
<p> </p>
<h1 id="heading-20"></h1>
<p><img src="/AWS/ELB/ELB06.png" alt="" /></p>
<ul>
<li><strong>설정이 끝나면, 대상 등록에 인스턴스를 등록합니다.</strong></li>
</ul>
<h1 id="heading-21"></h1>
<h1 id="heading-22"></h1>
<p> </p>
<h1 id="heading-23"></h1>
<p><img src="/AWS/ELB/ELB5-1.png" alt="" /><br>
<img src="/AWS/ELB/ELB07.png" alt="" /></p>
<ul>
<li><strong>ELB의 생성이 완료되면, DNS 접속을 통해 확인할 수 있습니다.</strong></li>
</ul>
<h1 id="heading-24"></h1>
<p> </p>
<h1 id="heading-25"></h1>
<p><img src="/AWS/ELB/ELB5-2.png" alt="" /></p>
<ul>
<li><strong>또한 대상 그룹으로 이동하여 healthy 상태를 체크할 수 있습니다.</strong></li>
</ul>
<h1 id="heading-26"></h1>
<p> </p>
<h1 id="heading-27"></h1>
<h3 id="network-load-balancer-생성--이하-nlb-"><strong>Network Load Balancer 생성 ( 이하 NLB )</strong></h3>
<ul>
<li><strong>NLB에 대한 설명은 <a href="">NLB Link</a>를 참조해주세요.</strong></li>
</ul>
<h1 id="heading-28"></h1>
<p> </p>
<h1 id="heading-29"></h1>
<p><img src="/AWS/ELB/ELB01.png" alt="" /></p>
<ul>
<li><strong>NLB 생성을 위해 다시 로드밸런서로 돌아와, 로드 밸런서 생성을 클릭합니다.</strong></li>
</ul>
<h1 id="heading-30"></h1>
<p> </p>
<h1 id="heading-31"></h1>
<p><img src="/AWS/ELB/ELB08.png" alt="" /></p>
<ul>
<li><strong>로드 밸런서 유형에서 NLB를 선택합니다.</strong></li>
</ul>
<h1 id="heading-32"></h1>
<p> </p>
<h1 id="heading-33"></h1>
<p><img src="/AWS/ELB/ELB09.png" alt="" /></p>
<ul>
<li><strong>NLB의 구성을 위와 같이 설정합니다.</strong></li>
<li><strong>8009 포트는 톰캣과 아파치이 연동을 위한 포트 입니다.</strong></li>
</ul>
<h1 id="heading-34"></h1>
<p> </p>
<h1 id="heading-35"></h1>
<p><img src="/AWS/ELB/ELB010.png" alt="" /></p>
<ul>
<li><strong>라우팅 테이블을 구성합니다.</strong></li>
</ul>
<h1 id="heading-36"></h1>
<p> </p>
<h1 id="heading-37"></h1>
<p><img src="/AWS/ELB/ELB011.png" alt="" /></p>
<ul>
<li><strong>프라이빗 주소의 8009 포트로 인스턴스들을 등록합니다.</strong></li>
</ul>
<h1 id="heading-38"></h1>
<p> </p>
<h1 id="heading-39"></h1>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-tpl" data-lang="tpl">$ vi /etc/apache/workers.properties
worker.tomcat8.host = [ NLB DNS ]
</code></pre></div><ul>
<li><strong>Apache의 워커 파일은 NLB의 DNS로 설정합니다.</strong></li>
</ul>
<h1 id="heading-40"></h1>
<p> </p>
<h1 id="heading-41"></h1>
<p><img src="/AWS/ELB/ELB012.png" alt="" /></p>
<ul>
<li><strong>설정해 두었던 ALB로 접속하여 index.jsp로 접속하면 톰캣을 통해 jsp로 접속하는 것을 확인 할 수 있습니다.</strong></li>
</ul>
<h1 id="heading-42"></h1>
<p> </p>
<h1 id="heading-43"></h1>
<p><img src="/AWS/ELB/ELB013.png" alt="" /></p>
<ul>
<li><strong>대상그룹 또한 healthy를 확인할 수 있습니다.</strong></li>
</ul>
<h1 id="heading-44"></h1>
<p> </p>
<h1 id="heading-45"></h1>
<h3 id="classic-load-balancer-생성--이하-clb-"><strong>Classic Load Balancer 생성 ( 이하 CLB )</strong></h3>
<ul>
<li><strong>CLB에 대한 설명은 <a href="">CLB Link</a>를 참조해주세요.</strong></li>
</ul>
<h1 id="heading-46"></h1>
<p><img src="/AWS/ELB/ELB01.png" alt="" /></p>
<ul>
<li><strong>CLB를 생성하기 위해 다시 로드 밸런서 생성을 클릭하세요.</strong></li>
</ul>
<h1 id="heading-47"></h1>
<p> </p>
<h1 id="heading-48"></h1>
<p><img src="/AWS/ELB/ELB014.png" alt="" /></p>
<ul>
<li><strong>로드 밸런서 유형 중 CLB를 클릭하세요.</strong></li>
</ul>
<h1 id="heading-49"></h1>
<p> </p>
<h1 id="heading-50"></h1>
<p><img src="/AWS/ELB/ELB015.png" alt="" /></p>
<ul>
<li><strong>ELB와 동일하게 외부대역으로 설정합니다..</strong></li>
</ul>
<h1 id="heading-51"></h1>
<p> </p>
<h1 id="heading-52"></h1>
<p><img src="/AWS/ELB/ELB016.png" alt="" /></p>
<ul>
<li><strong>보안그룹 또한 기존 ELB-sg를 사용합니다.</strong></li>
</ul>
<h1 id="heading-53"></h1>
<p> </p>
<h1 id="heading-54"></h1>
<p><img src="/AWS/ELB/ELB017.png" alt="" /></p>
<ul>
<li><strong>상태검사를 설정합니다.</strong></li>
</ul>
<h1 id="heading-55"></h1>
<p> 
#<img src="/AWS/ELB/ELB018.png" alt="" /></p>
<ul>
<li><strong>인스턴스를 추가하고, 로드 밸런싱을 활성화합니다.</strong></li>
</ul>
<h1 id="heading-56"></h1>
<p> 
#<img src="/AWS/ELB/ELB019.png" alt="" /></p>
<ul>
<li><strong>CLB의 DNS로 접속해보면, ELB와 같은 결과를 얻을 수 있습니다.</strong></li>
</ul>
<h1 id="heading-57"></h1>
<p> 
#<img src="/AWS/ELB/ELB020.png" alt="" /></p>
<ul>
<li><strong>CLB또한 상태검사가 가능합니다.</strong></li>
</ul>
<h1 id="heading-58"></h1>
<p> </p>
<h1 id="heading-59"></h1>
<h4 id="예제-1">예제 1.</h4>
<h4 id="서로-다른-public-서브넷-2개-private-서브넷-2개를-생성하여-각각-인스턴스를-생성한-후-elb로-접속이-가능하게-구현하세요">서로 다른 Public 서브넷 2개, Private 서브넷 2개를 생성하여 각각 인스턴스를 생성한 후, ELB로 접속이 가능하게 구현하세요.</h4>
<blockquote>
<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>예제 1. 답안</span>
      <span>↕</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      <ul>
<li><strong>VPC를 생성 후, ALB와 NLB를 사용합니다.</strong></li>
</ul>

    </div>
  </label>
</div>

</blockquote>
</article>
 
      
<div>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-1022327295984162"
     data-ad-slot="8742279271"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

      <footer class="book-footer">
        
  <div class="flex justify-between">





</div>

 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside style="max-width: 14%;" class="book-toc">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#aws-elb-생성-1"><strong>AWS ELB 생성</strong></a></li>
  </ul>

  <ul>
    <li>
      <ul>
        <li><a href="#인스턴스-생성"><strong>인스턴스 생성</strong></a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li>
      <ul>
        <li><a href="#application-load-balancer-생성--이하-alb-"><strong>Application Load Balancer 생성 ( 이하 ALB )</strong></a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li>
      <ul>
        <li><a href="#network-load-balancer-생성--이하-nlb-"><strong>Network Load Balancer 생성 ( 이하 NLB )</strong></a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li>
      <ul>
        <li><a href="#classic-load-balancer-생성--이하-clb-"><strong>Classic Load Balancer 생성 ( 이하 CLB )</strong></a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li>
      <ul>
        <li></li>
      </ul>
    </li>
  </ul>
</nav>

 
    </aside>
    
  </main>

  
</body>
</div>
</html>















