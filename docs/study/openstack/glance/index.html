<!DOCTYPE html>
<html lang="en">

<head>
  <script data-ad-client="ca-pub-1022327295984162" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Glance   운영체제 이미지를 관리하는 Glance  이미지 서비스인 Glance는 Nova에서 생성하는 인스턴스의 운영체제에 해당하는 이미지를 관리 가상머신을 생성해 컴퓨터를 대신 사용, 이 때 필요한 운영체제의 이미지 파일을 Glance이 다양한 하이퍼바이저에서 사용할 수 있는 VM 이미지를 관리 및 VM에 설치된 운영체제를 보관, 관리 함  논리 아키텍처의 Glance  Glance 사용자들은 glance-api로 이미지를 등록, 삭제, 관리할 수 있음 glance-api는 glance-registry와 Glance database에서 이미지를 관리함 이미지를 등록할 때는 glance-registry로 Glance database에 저장됨 등록된 이미지를 사용할 때는 Glance database에 바로 사용을 요청 관리자는 운영하려는 운영체제의 이미지를 glance-registry로 Glance database에 등록 이미 저장된 이미지만으로도 인스턴스를 생성할 수 있음, 즉 Glance는 Nova 옆에 항상 따라다님  가상 머신 이미지 포맷  대체적으로 이미지를 내려받아 Glance에 등록할 때는 raw 포맷이나, qcow2 포맷으로 등록함  aki: 아마존 커널 이미지 ami: 아마존 머신 이미지 ari: 아마존 ram 디스크 이미지 iso: 광학 디스크나 CD-ROM의 데이터 콘텐츠를 지원하는 아카이브 포맷 qcow2: QEMU 에뮬레이터가 지원하는 포맷, 동적으로 확장할 수 있으며, Copy on Write를 지원 raw: 구조화되지 않은 디스크 포맷 vdi: VirtalBox 모니터와 QEMU 에뮬레이터가 지원하는 디스크 포맷 vhd: VHD 디스크 포맷은 VMware, Xen 마이크로소프트, VirtualBox 같은 가상 머신 모니터가 사용하는 일반적인 디스크 포맷 vhdx: VHDX 디스크 포맷은 큰 디스크 크기를 지원하는 VHD 형식의 향상된 버전 vmdk: 일반적인 디스크 포맷으로 여러 가상 머신 모니터가 지원    컨테이너 포맷(container Format)  컨테이너 포맷은 VM 이미지가 실제 VM 메타데이터를 포함하는 파일 포맷인지를 나타냄  aki: 아마존 커널 이미지 ami: 아마존 머신 이미지 bare: 아마존 ram 디스크 이미지 docker: Docker 컨테이너 포맷 ova: tar 파일의 OVF 패키지 ovf: OVF 컨테이너 포맷    지원하는 운영체제 이미지  오픈스택 Nova에서 인스턴스를 생성할 때는 이미 하이퍼바이저에서 생성한 가상 머신에 운영체제를 설치한 이미지를 Glance에 등록시키고, 등록시킨 이미지를 이용해서 인스턴스를 생성  Glance 구조  이미지를 저장하면 glance-registry로 Glance DB에 저장 주의사항  오픈스택 이미지를 생성할 때는 VMware처럼 운영체제 설치 파일(iso)로 가상머신을 생성하는 것이 아니라 이미 운영체제가 이미 설치가 된 가상머신을 이미지로 등록해야 함 따라서 이미지는 클라우드 전용이미지를 사용하는 것이 좋다."><meta property="og:title" content="" />
<meta property="og:description" content="Glance   운영체제 이미지를 관리하는 Glance  이미지 서비스인 Glance는 Nova에서 생성하는 인스턴스의 운영체제에 해당하는 이미지를 관리 가상머신을 생성해 컴퓨터를 대신 사용, 이 때 필요한 운영체제의 이미지 파일을 Glance이 다양한 하이퍼바이저에서 사용할 수 있는 VM 이미지를 관리 및 VM에 설치된 운영체제를 보관, 관리 함  논리 아키텍처의 Glance  Glance 사용자들은 glance-api로 이미지를 등록, 삭제, 관리할 수 있음 glance-api는 glance-registry와 Glance database에서 이미지를 관리함 이미지를 등록할 때는 glance-registry로 Glance database에 저장됨 등록된 이미지를 사용할 때는 Glance database에 바로 사용을 요청 관리자는 운영하려는 운영체제의 이미지를 glance-registry로 Glance database에 등록 이미 저장된 이미지만으로도 인스턴스를 생성할 수 있음, 즉 Glance는 Nova 옆에 항상 따라다님  가상 머신 이미지 포맷  대체적으로 이미지를 내려받아 Glance에 등록할 때는 raw 포맷이나, qcow2 포맷으로 등록함  aki: 아마존 커널 이미지 ami: 아마존 머신 이미지 ari: 아마존 ram 디스크 이미지 iso: 광학 디스크나 CD-ROM의 데이터 콘텐츠를 지원하는 아카이브 포맷 qcow2: QEMU 에뮬레이터가 지원하는 포맷, 동적으로 확장할 수 있으며, Copy on Write를 지원 raw: 구조화되지 않은 디스크 포맷 vdi: VirtalBox 모니터와 QEMU 에뮬레이터가 지원하는 디스크 포맷 vhd: VHD 디스크 포맷은 VMware, Xen 마이크로소프트, VirtualBox 같은 가상 머신 모니터가 사용하는 일반적인 디스크 포맷 vhdx: VHDX 디스크 포맷은 큰 디스크 크기를 지원하는 VHD 형식의 향상된 버전 vmdk: 일반적인 디스크 포맷으로 여러 가상 머신 모니터가 지원    컨테이너 포맷(container Format)  컨테이너 포맷은 VM 이미지가 실제 VM 메타데이터를 포함하는 파일 포맷인지를 나타냄  aki: 아마존 커널 이미지 ami: 아마존 머신 이미지 bare: 아마존 ram 디스크 이미지 docker: Docker 컨테이너 포맷 ova: tar 파일의 OVF 패키지 ovf: OVF 컨테이너 포맷    지원하는 운영체제 이미지  오픈스택 Nova에서 인스턴스를 생성할 때는 이미 하이퍼바이저에서 생성한 가상 머신에 운영체제를 설치한 이미지를 Glance에 등록시키고, 등록시킨 이미지를 이용해서 인스턴스를 생성  Glance 구조  이미지를 저장하면 glance-registry로 Glance DB에 저장 주의사항  오픈스택 이미지를 생성할 때는 VMware처럼 운영체제 설치 파일(iso)로 가상머신을 생성하는 것이 아니라 이미 운영체제가 이미 설치가 된 가상머신을 이미지로 등록해야 함 따라서 이미지는 클라우드 전용이미지를 사용하는 것이 좋다." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://mung0001.github.io/docs/study/openstack/glance/" />


<title>뭉게뭉게</title>
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.63eb88daa545365405ecdbb21033286a325c60a36cfa6d22d21e7c3bc9286941.css" integrity="sha256-Y&#43;uI2qVFNlQF7NuyEDMoajJcYKNs&#43;m0i0h58O8koaUE=">
<script defer src="/en.search.min.35690576341cf5895247ed5d2dd7c83e0468ba93d10a673b197036dbcbe6bbc3.js" integrity="sha256-NWkFdjQc9YlSR&#43;1dLdfIPgRoupPRCmc7GXA228vmu8M="></script>
<!--

-->

  
</head>

<body>
  <div class="background">
  <input type="checkbox" class="hidden" id="menu-control" />
  <main class="container flex" style="max-width:95%;" >
    <aside class="book-menu">
      
  <nav styles="background-color:red; position=none;">
<h2 class="book-brand">
  <a href="/"><span>뭉게뭉게</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  

  
  





 
  
    




  
  <ul>
    
      
        

  <li class="book-section-flat" >
    

  
  <a href="/docs/cloudcomputing/" class="">Cloud Computing</a>
  


    




  
  <ul>
    
      
        

  <li>
    

  
  <a href="/docs/cloudcomputing/amazonwebservice/" class="collapsed ">Amazon Web Service</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/cloudcomputing/training/" class="collapsed ">Training</a>
  


    






  </li>


      
    
  </ul>
  



  </li>


      
    
      
        

  <li class="book-section-flat" >
    

  
  <a href="/docs/programing/" class="">Programing</a>
  


    




  
  <ul>
    
      
        

  <li>
    

  
  <a href="/docs/programing/code/" class="collapsed ">Code</a>
  


    






  </li>


      
    
  </ul>
  



  </li>


      
    
      
        

  <li class="book-section-flat" >
    

  
  <a href="/docs/study/" class="">Study</a>
  


    




  
  <ul>
    
      
        

  <li>
    

  
  <a href="/docs/study/django/" class="collapsed ">Django</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/study/golang/" class="collapsed ">Golang</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/study/openstack/" class="collapsed ">Open Stack</a>
  


    




  
  <ul>
    
      
        <li>

  
  <a href="/docs/study/openstack/openstack/" class="">Openstack</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/study/openstack/keystone/" class="">Keystone</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/study/openstack/glance/" class="active">Glance</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/study/openstack/nova/" class="">Nova</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/study/openstack/swift/" class="">Swift</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/study/openstack/neutron/" class="">Neutron</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/study/openstack/cinder/" class="">Cinder</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/study/openstack/horizon/" class="">Horizon</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/study/openstack/ceilometer/" class="">Ceilometer</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/study/openstack/heat/" class="">Heat</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/study/openstack/trove/" class="">Trove</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/study/openstack/sahara/" class="">Sahara</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/study/openstack/ironic/" class="">Ironic</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/study/openstack/service/" class="">Service</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/study/openstack/openstack-%EB%AA%85%EB%A0%B9%EC%96%B4/" class="">Openstack 명령어</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/study/openstack/openstack%EC%84%A4%EC%B9%98/" class="">Openstack설치</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/study/openstack/%EA%B0%80%EC%83%81%ED%99%94/" class="">가상화</a>
  

</li>
      
    
  </ul>
  



  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/study/security/" class="collapsed ">Security</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/study/system/" class="collapsed ">System</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/study/web/" class="collapsed ">Web</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/study/%EC%A0%84%EC%A0%84/" class="collapsed ">전전</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/study/%EC%A0%95%EB%B3%B4%EC%B2%98%EB%A6%AC%EA%B8%B0%EC%82%AC/" class="collapsed ">정보처리기사</a>
  


    






  </li>


      
    
      
        <li>

  
  <a href="/docs/study/bigdata/" class="">Bigdata</a>
  

</li>
      
    
  </ul>
  



  </li>


      
    
      
        

  <li class="book-section-flat" >
    

  
  <a href="/docs/network/" class="">Network</a>
  


    




  
  <ul>
    
      
        <li>

  
  <a href="/docs/network/gns3/" class="">G N S3</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/network/nas/" class="">Nas</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/network/3tier/" class="">3 Tier</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/network/%E3%84%B4-packet/" class="">ㄴ Packet</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/network/%E3%84%B4-portnumber/" class="">ㄴ Portnumber</a>
  

</li>
      
    
  </ul>
  



  </li>


      
    
      
        

  <li class="book-section-flat" >
    

  
  <a href="/docs/system/" class="">System</a>
  


    




  
  <ul>
    
      
        <li>

  
  <a href="/docs/system/mail-server/" class="">Mail Server</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/system/mount/" class="">Mount</a>
  

</li>
      
    
  </ul>
  



  </li>


      
    
      
        

  <li class="book-section-flat" >
    

  
  <span>Project</span>
  


    




  
  <ul>
    
      
        

  <li>
    

  
  <a href="/docs/project/mini/" class="collapsed ">M Ini</a>
  


    






  </li>


      
    
  </ul>
  



  </li>


      
    
  </ul>
  



  














  
<ul>
  
  <li>
    <a href="/posts/" >
        Blog
      </a>
  </li>
  
</ul>







</nav>




  <script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script>


 
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Glance</strong>

  <label for="toc-control">
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
  </label>
</div>


  
    <input type="checkbox" class="hidden" id="toc-control" />
    <aside class="hidden clearfix">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#운영체제-이미지를-관리하는-glance"><strong>운영체제 이미지를 관리하는 Glance</strong></a>
      <ul>
        <li><a href="#논리-아키텍처의-glance"><strong>논리 아키텍처의 Glance</strong></a></li>
        <li><a href="#가상-머신-이미지-포맷"><strong>가상 머신 이미지 포맷</strong></a></li>
        <li><a href="#컨테이너-포맷container-format"><strong>컨테이너 포맷(container Format)</strong></a></li>
        <li><a href="#지원하는-운영체제-이미지"><strong>지원하는 운영체제 이미지</strong></a></li>
        <li><a href="#glance-구조"><strong>Glance 구조</strong></a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#glance-명령어"><strong>Glance 명령어</strong></a></li>
  </ul>

  <ul>
    <li><a href="#커스텀-이미지-생성"><strong>커스텀 이미지 생성</strong></a></li>
  </ul>
</nav>


    </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="glance"><strong>Glance</strong></h1>
<hr>
<h1 id="heading"></h1>
<h2 id="운영체제-이미지를-관리하는-glance"><strong>운영체제 이미지를 관리하는 Glance</strong></h2>
<p><img src="/Openstack/Glance.png" alt="Glance" /></p>
<ul>
<li>이미지 서비스인 Glance는 Nova에서 생성하는 인스턴스의 운영체제에 해당하는 이미지를 관리</li>
<li>가상머신을 생성해 컴퓨터를 대신 사용, 이 때 필요한 운영체제의 이미지 파일을 Glance이 다양한 하이퍼바이저에서 사용할 수 있는 VM 이미지를 관리 및 VM에 설치된 운영체제를 보관, 관리 함</li>
</ul>
<h3 id="논리-아키텍처의-glance"><strong>논리 아키텍처의 Glance</strong></h3>
<ul>
<li>Glance 사용자들은 glance-api로 이미지를 등록, 삭제, 관리할 수 있음</li>
<li>glance-api는 glance-registry와 Glance database에서 이미지를 관리함</li>
<li>이미지를 등록할 때는 glance-registry로 Glance database에 저장됨</li>
<li>등록된 이미지를 사용할 때는 Glance database에 바로 사용을 요청</li>
<li>관리자는 운영하려는 운영체제의 이미지를 glance-registry로 Glance database에 등록</li>
<li>이미 저장된 이미지만으로도 인스턴스를 생성할 수 있음, 즉 Glance는 Nova 옆에 항상 따라다님</li>
</ul>
<h3 id="가상-머신-이미지-포맷"><strong>가상 머신 이미지 포맷</strong></h3>
<ul>
<li>대체적으로 이미지를 내려받아 Glance에 등록할 때는 raw 포맷이나, qcow2 포맷으로 등록함
<ul>
<li>aki: 아마존 커널 이미지</li>
<li>ami: 아마존 머신 이미지</li>
<li>ari: 아마존 ram 디스크 이미지</li>
<li>iso: 광학 디스크나 CD-ROM의 데이터 콘텐츠를 지원하는 아카이브 포맷</li>
<li>qcow2: QEMU 에뮬레이터가 지원하는 포맷, 동적으로 확장할 수 있으며, Copy on Write를 지원</li>
<li>raw: 구조화되지 않은 디스크 포맷</li>
<li>vdi: VirtalBox 모니터와 QEMU 에뮬레이터가 지원하는 디스크 포맷</li>
<li>vhd: VHD 디스크 포맷은 VMware, Xen 마이크로소프트, VirtualBox 같은 가상 머신 모니터가 사용하는 일반적인 디스크 포맷</li>
<li>vhdx: VHDX 디스크 포맷은 큰 디스크 크기를 지원하는 VHD 형식의 향상된 버전</li>
<li>vmdk: 일반적인 디스크 포맷으로 여러 가상 머신 모니터가 지원</li>
</ul>
</li>
</ul>
<h3 id="컨테이너-포맷container-format"><strong>컨테이너 포맷(container Format)</strong></h3>
<ul>
<li>컨테이너 포맷은 VM 이미지가 실제 VM 메타데이터를 포함하는 파일 포맷인지를 나타냄
<ul>
<li>aki: 아마존 커널 이미지</li>
<li>ami: 아마존 머신 이미지</li>
<li>bare: 아마존 ram 디스크 이미지</li>
<li>docker: Docker 컨테이너 포맷</li>
<li>ova: tar 파일의 OVF 패키지</li>
<li>ovf: OVF 컨테이너 포맷</li>
</ul>
</li>
</ul>
<h3 id="지원하는-운영체제-이미지"><strong>지원하는 운영체제 이미지</strong></h3>
<ul>
<li>오픈스택 Nova에서 인스턴스를 생성할 때는 이미 하이퍼바이저에서 생성한 가상 머신에 운영체제를 설치한 이미지를 Glance에 등록시키고, 등록시킨 이미지를 이용해서 인스턴스를 생성</li>
</ul>
<h3 id="glance-구조"><strong>Glance 구조</strong></h3>
<ul>
<li>이미지를 저장하면 glance-registry로 Glance DB에 저장</li>
<li><strong>주의사항</strong>
<ul>
<li>오픈스택 이미지를 생성할 때는 VMware처럼 운영체제 설치 파일(iso)로 가상머신을 생성하는 것이 아니라 이미 운영체제가 이미 설치가 된 가상머신을 이미지로 등록해야 함</li>
<li>따라서 이미지는 클라우드 전용이미지를 사용하는 것이 좋다.</li>
</ul>
</li>
</ul>
<h1 id="heading-1"></h1>
<p><img src="/Line/Open.png" alt="Line" /></p>
<h1 id="heading-2"></h1>
<h2 id="glance-명령어"><strong>Glance 명령어</strong></h2>
<ul>
<li>현재 이미지 목록 확인</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">openstack image list
</code></pre></div><h1 id="heading-3"></h1>
<ul>
<li>특정 이미지의 자세한 정보 확인</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">openstack image show <span style="color:#f92672">[</span>이미지 이름<span style="color:#f92672">]</span>
</code></pre></div><h1 id="heading-4"></h1>
<ul>
<li>이미지 삭제</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">openstack image delete <span style="color:#f92672">[</span>이미지 이름<span style="color:#f92672">]</span>
</code></pre></div><h1 id="heading-5"></h1>
<ul>
<li>이미지 추가</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">openstack image create <span style="color:#f92672">--</span><span style="color:#66d9ef">public</span> <span style="color:#f92672">--</span>container<span style="color:#f92672">-</span>format bare <span style="color:#f92672">--</span>disk<span style="color:#f92672">-</span>format qcow2  <span style="color:#f92672">--</span>file <span style="color:#f92672">[</span>경로를 포함한 이미지 파일 이름<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>이미지 이름<span style="color:#f92672">]</span>
</code></pre></div><h1 id="heading-6"></h1>
<h2 id="커스텀-이미지-생성"><strong>커스텀 이미지 생성</strong></h2>
<h1 id="heading-7"></h1>
<ol>
<li>
<p>xming 윈도우에 설치</p>
</li>
<li>
<p>CentOS 준비 후 CentOS에  가상머신 프로그램 설치 및 실행</p>
</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">yum install qemu kvm qemu<span style="color:#f92672">-</span>kvm libvirt virt<span style="color:#f92672">-</span>install bridge<span style="color:#f92672">-</span>utils virt<span style="color:#f92672">-</span>manager dejavu<span style="color:#f92672">-</span>lgc<span style="color:#f92672">-</span>sans<span style="color:#f92672">-</span>fonts virt<span style="color:#f92672">-</span>viewer
systemctl restart libvirtd
</code></pre></div><h1 id="heading-8"></h1>
<p>ISO 파일로 qcow2 이미지 파일 생성 ( 자료실에 ISO 파일 CentOS로 다운 )</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">qemu<span style="color:#f92672">-</span>img create <span style="color:#f92672">-</span>f qcow2 <span style="color:#f92672">[</span>이미지 파일 위치<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>이미지 파일 크기<span style="color:#f92672">]</span>
qemu<span style="color:#f92672">-</span>img create <span style="color:#f92672">-</span>f qcow2 <span style="color:#f92672">/</span>test<span style="color:#f92672">/</span>centos7<span style="color:#f92672">.</span><span style="color:#a6e22e">qcow2</span> 10G
</code></pre></div><ol start="3">
<li>ISO로 가상머신 생성</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">virt<span style="color:#f92672">-</span>install <span style="color:#f92672">--</span>name centos <span style="color:#f92672">--</span>ram 1024 <span style="color:#f92672">--</span>disk <span style="color:#f92672">./</span>centos7<span style="color:#f92672">.</span><span style="color:#a6e22e">qcow2</span><span style="color:#f92672">,</span>format<span style="color:#f92672">=</span>qcow2  <span style="color:#f92672">--</span>network network<span style="color:#f92672">=</span><span style="color:#66d9ef">default</span> <span style="color:#f92672">--</span>graphics vnc<span style="color:#f92672">,</span>listen<span style="color:#f92672">=</span>0<span style="color:#f92672">.</span><span style="color:#a6e22e">0</span><span style="color:#f92672">.</span><span style="color:#a6e22e">0</span><span style="color:#f92672">.</span><span style="color:#a6e22e">0</span>  <span style="color:#f92672">--</span>noautoconsole <span style="color:#f92672">--</span>os<span style="color:#f92672">-</span>type<span style="color:#f92672">=</span>linux <span style="color:#f92672">--</span>os<span style="color:#f92672">-</span>variant<span style="color:#f92672">=</span>centos7<span style="color:#f92672">.</span><span style="color:#a6e22e">0</span> <span style="color:#f92672">--</span>location<span style="color:#f92672">=[</span>ISO 위치<span style="color:#f92672">]</span>
</code></pre></div><ol start="7">
<li>본체 윈도우에서 putty x11 설정</li>
</ol>
<ul>
<li>푸티 실행 -&gt; SSH -&gt; X11 -&gt; Enable X11 Forwarding 체크 -&gt; X display location : localhost:0 설정 후 접속</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">virt<span style="color:#f92672">-</span>manager
</code></pre></div><ol start="8">
<li>
<p>생성한 QEMU 가상머신 설정</p>
<ol>
<li>SELINUX 끄기</li>
<li>acpid 설치 및 설정</li>
<li>cloud-init 및 cloud-utils 설치 및 설정</li>
<li>/etc/sysconfig/network</li>
<li>qemu-guest-agent 설치 및 설정</li>
<li>grub 수정</li>
</ol>
</li>
<li>
<p>생성한 가상머신에서 이미지 작업 ( 커스터 마이징 )</p>
</li>
<li>
<p>설치 후 설정(CentOS에서)</p>
<ol>
<li>yum install /usr/bin/virt-sysprep</li>
<li>virt-sysprep -d centos			&lt;-네트워크 장치의 MAC주소와 같은 정보를 삭제하는 작업</li>
<li>virsh undefine centos			&lt;-가상머신 삭제하는 작업(이미지 생성이 끝났으니까)</li>
</ol>
</li>
</ol>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex justify-between">





</div>

 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#운영체제-이미지를-관리하는-glance"><strong>운영체제 이미지를 관리하는 Glance</strong></a>
      <ul>
        <li><a href="#논리-아키텍처의-glance"><strong>논리 아키텍처의 Glance</strong></a></li>
        <li><a href="#가상-머신-이미지-포맷"><strong>가상 머신 이미지 포맷</strong></a></li>
        <li><a href="#컨테이너-포맷container-format"><strong>컨테이너 포맷(container Format)</strong></a></li>
        <li><a href="#지원하는-운영체제-이미지"><strong>지원하는 운영체제 이미지</strong></a></li>
        <li><a href="#glance-구조"><strong>Glance 구조</strong></a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#glance-명령어"><strong>Glance 명령어</strong></a></li>
  </ul>

  <ul>
    <li><a href="#커스텀-이미지-생성"><strong>커스텀 이미지 생성</strong></a></li>
  </ul>
</nav>

 
    </aside>
    
  </main>

  
</body>
</div>
</html>















