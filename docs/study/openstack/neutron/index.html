<!DOCTYPE html>
<html lang="en">

<head>
  <script data-ad-client="ca-pub-1022327295984162" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Neutron   네트워크를 관리하는 Neutron   폴섬 버전에서는 Quantum, 그리즐리 버전에서는 Neutron으로 릴리스 되었음
  기존 오픈스택의 네트워크 서비스는 nova-network가 담당했으나, SDN(Software Defined Network) 개념이 들어오면서 별도의 네트워크 프로젝트로 분리되었음
논리 아키텍처의 Neutron  Neutron은 neutron-server, Neutron L2 Agent* 및 neutron-l3-agent*, neutron-dhcp-agent, Queue, Neutron Database, Neutron 3rd Party Plugin으로 구성 Neutron은 다양한 네트워크 플러그인이나 네트워크 모델을 지원  사용자는 Neutron API를 이용해 neutron-server로 IP 할당을 요청 neutron-server 들어온 요청을 Queue로 다시 요청 Queue는 neutron-dhcp-agent와 Neutron 3rd Party plugin으로 IP 할당 지시를 내림 neutron-dhcp-agent와 Neutron 3rd Party Plugin은 지시 받은 작업 수행을 시작 neutron-server는 수시로 작업 상태를 Neutron database에 저장 할당된 IP를 인스턴스에서 사용 가능    Neutron이 지원하는 플러그인의 종류  사이트 참조  Neutron과 VRRP, DVR  VRRP(Virtual Router Redundancy Protocl)로 랜에서 정적으로 설정된 기본 라우터를 사용할 때, 하나 이상의 백업 라우터를 사용하는 방법을 제공하는 인터넷 프로토콜 DVR(Distributed Virtual Router)이란 VRRP 기능을 향상시키고, 분산 라우팅 기능과 HA(High Availability), 로드밸런싱 기능을 사용할 수 있음 기존 레거시 HA 라우터와 마찬가지로 DVR/ SNAT(Static NAT), HA 라우터는 다른 노드에서 실행되는 L3 Agent의 백업 DVR/ SNAT 라우터에서 SNAT 서비스 장애를 빠르게 해결 가능     오픈스택 네트워크 구조"><meta property="og:title" content="" />
<meta property="og:description" content="Neutron   네트워크를 관리하는 Neutron   폴섬 버전에서는 Quantum, 그리즐리 버전에서는 Neutron으로 릴리스 되었음
  기존 오픈스택의 네트워크 서비스는 nova-network가 담당했으나, SDN(Software Defined Network) 개념이 들어오면서 별도의 네트워크 프로젝트로 분리되었음
논리 아키텍처의 Neutron  Neutron은 neutron-server, Neutron L2 Agent* 및 neutron-l3-agent*, neutron-dhcp-agent, Queue, Neutron Database, Neutron 3rd Party Plugin으로 구성 Neutron은 다양한 네트워크 플러그인이나 네트워크 모델을 지원  사용자는 Neutron API를 이용해 neutron-server로 IP 할당을 요청 neutron-server 들어온 요청을 Queue로 다시 요청 Queue는 neutron-dhcp-agent와 Neutron 3rd Party plugin으로 IP 할당 지시를 내림 neutron-dhcp-agent와 Neutron 3rd Party Plugin은 지시 받은 작업 수행을 시작 neutron-server는 수시로 작업 상태를 Neutron database에 저장 할당된 IP를 인스턴스에서 사용 가능    Neutron이 지원하는 플러그인의 종류  사이트 참조  Neutron과 VRRP, DVR  VRRP(Virtual Router Redundancy Protocl)로 랜에서 정적으로 설정된 기본 라우터를 사용할 때, 하나 이상의 백업 라우터를 사용하는 방법을 제공하는 인터넷 프로토콜 DVR(Distributed Virtual Router)이란 VRRP 기능을 향상시키고, 분산 라우팅 기능과 HA(High Availability), 로드밸런싱 기능을 사용할 수 있음 기존 레거시 HA 라우터와 마찬가지로 DVR/ SNAT(Static NAT), HA 라우터는 다른 노드에서 실행되는 L3 Agent의 백업 DVR/ SNAT 라우터에서 SNAT 서비스 장애를 빠르게 해결 가능     오픈스택 네트워크 구조" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://mung0001.github.io/docs/study/openstack/neutron/" />


<title>뭉개뭉개</title>
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.63eb88daa545365405ecdbb21033286a325c60a36cfa6d22d21e7c3bc9286941.css" integrity="sha256-Y&#43;uI2qVFNlQF7NuyEDMoajJcYKNs&#43;m0i0h58O8koaUE=">
<script defer src="/en.search.min.f5ac1a6d82f1e05efefc31acf7bf7fa1b1cf614a7e890cd7710a94c00d453922.js" integrity="sha256-9awabYLx4F7&#43;/DGs979/obHPYUp&#43;iQzXcQqUwA1FOSI="></script>
<!--

-->

  
</head>

<body>
  <div class="background">
  <input type="checkbox" class="hidden" id="menu-control" />
  <main class="container flex" style="max-width:95%;" >
    <aside class="book-menu">
      
  <nav styles="background-color:red; position=none;">
<h2 class="book-brand">
  <a href="/"><span>뭉개뭉개</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  

  
  





 
  
    




  
  <ul>
    
      
        

  <li class="book-section-flat" >
    

  
  <a href="/docs/cloud/" class="">AWS</a>
  


    




  
  <ul>
    
      
        

  <li>
    

  
  <a href="/docs/cloud/aws/" class="collapsed ">A W S</a>
  


    






  </li>


      
    
  </ul>
  



  </li>


      
    
      
        

  <li class="book-section-flat" >
    

  
  <a href="/docs/programing/" class="">Programing</a>
  


    




  
  <ul>
    
      
        

  <li>
    

  
  <a href="/docs/programing/code/" class="collapsed ">Code</a>
  


    






  </li>


      
    
  </ul>
  



  </li>


      
    
      
        

  <li class="book-section-flat" >
    

  
  <a href="/docs/study/" class="">Study</a>
  


    




  
  <ul>
    
      
        

  <li>
    

  
  <a href="/docs/study/django/" class="collapsed ">Django</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/study/golang/" class="collapsed ">Golang</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/study/network/" class="collapsed ">Network</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/study/openstack/" class="collapsed ">Open Stack</a>
  


    




  
  <ul>
    
      
        <li>

  
  <a href="/docs/study/openstack/openstack/" class="">Openstack</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/study/openstack/keystone/" class="">Keystone</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/study/openstack/glance/" class="">Glance</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/study/openstack/nova/" class="">Nova</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/study/openstack/swift/" class="">Swift</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/study/openstack/neutron/" class="active">Neutron</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/study/openstack/cinder/" class="">Cinder</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/study/openstack/horizon/" class="">Horizon</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/study/openstack/ceilometer/" class="">Ceilometer</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/study/openstack/heat/" class="">Heat</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/study/openstack/trove/" class="">Trove</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/study/openstack/sahara/" class="">Sahara</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/study/openstack/ironic/" class="">Ironic</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/study/openstack/service/" class="">Service</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/study/openstack/openstack%EC%84%A4%EC%B9%98/" class="">Openstack설치</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/study/openstack/%EA%B0%80%EC%83%81%ED%99%94/" class="">가상화</a>
  

</li>
      
    
  </ul>
  



  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/study/security/" class="collapsed ">Security</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/study/system/" class="collapsed ">System</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/study/web/" class="collapsed ">Web</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/study/%EC%A0%84%EC%A0%84/" class="collapsed ">전전</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/study/%EC%A0%95%EB%B3%B4%EC%B2%98%EB%A6%AC%EA%B8%B0%EC%82%AC/" class="collapsed ">정보처리기사</a>
  


    






  </li>


      
    
  </ul>
  



  </li>


      
    
      
        

  <li class="book-section-flat" >
    

  
  <span>Project</span>
  


    




  
  <ul>
    
      
        

  <li>
    

  
  <a href="/docs/project/mini/" class="collapsed ">M Ini</a>
  


    






  </li>


      
    
  </ul>
  



  </li>


      
    
  </ul>
  



  














  
<ul>
  
  <li>
    <a href="/posts/" >
        Blog
      </a>
  </li>
  
</ul>







</nav>




  <script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script>


 
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Neutron</strong>

  <label for="toc-control">
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
  </label>
</div>


  
    <input type="checkbox" class="hidden" id="toc-control" />
    <aside class="hidden clearfix">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#네트워크를-관리하는-neutron"><strong>네트워크를 관리하는 Neutron</strong></a>
      <ul>
        <li><a href="#논리-아키텍처의-neutron"><strong>논리 아키텍처의 Neutron</strong></a></li>
        <li><a href="#neutron이-지원하는-플러그인의-종류"><strong>Neutron이 지원하는 플러그인의 종류</strong></a></li>
        <li><a href="#neutron과-vrrp-dvr"><strong>Neutron과 VRRP, DVR</strong></a></li>
      </ul>
    </li>
  </ul>
</nav>


    </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="neutron"><strong>Neutron</strong></h1>
<hr>
<h1 id="heading"></h1>
<h2 id="네트워크를-관리하는-neutron"><strong>네트워크를 관리하는 Neutron</strong></h2>
<p><img src="/Openstack/Neutron.png" alt="Glance" /></p>
<ul>
<li>
<p>폴섬 버전에서는 Quantum, 그리즐리 버전에서는 Neutron으로 릴리스 되었음</p>
</li>
<li>
<p>기존 오픈스택의 네트워크 서비스는 nova-network가 담당했으나, SDN(Software Defined Network) 개념이 들어오면서 별도의 네트워크 프로젝트로 분리되었음</p>
<h3 id="논리-아키텍처의-neutron"><strong>논리 아키텍처의 Neutron</strong></h3>
<ul>
<li>Neutron은 neutron-server, Neutron L2 Agent* 및 neutron-l3-agent*, neutron-dhcp-agent, Queue, Neutron Database, Neutron 3rd Party Plugin으로 구성</li>
<li>Neutron은 다양한 네트워크 플러그인이나 네트워크 모델을 지원
<ul>
<li>사용자는 Neutron API를 이용해 neutron-server로 IP 할당을 요청</li>
<li>neutron-server 들어온 요청을 Queue로 다시 요청</li>
<li>Queue는 neutron-dhcp-agent와 Neutron 3rd Party plugin으로 IP 할당 지시를 내림</li>
<li>neutron-dhcp-agent와 Neutron 3rd Party Plugin은 지시 받은 작업 수행을 시작</li>
<li>neutron-server는 수시로 작업 상태를 Neutron database에 저장</li>
<li>할당된 IP를 인스턴스에서 사용 가능</li>
</ul>
</li>
</ul>
<h3 id="neutron이-지원하는-플러그인의-종류"><strong>Neutron이 지원하는 플러그인의 종류</strong></h3>
<ul>
<li>사이트 참조</li>
</ul>
<h3 id="neutron과-vrrp-dvr"><strong>Neutron과 VRRP, DVR</strong></h3>
<ul>
<li>VRRP(Virtual Router Redundancy Protocl)로 랜에서 정적으로 설정된 기본 라우터를 사용할 때, 하나 이상의 백업 라우터를 사용하는 방법을 제공하는 인터넷 프로토콜</li>
<li>DVR(Distributed Virtual Router)이란 VRRP 기능을 향상시키고, 분산 라우팅 기능과 HA(High Availability), 로드밸런싱 기능을 사용할 수 있음</li>
<li>기존 레거시 HA 라우터와 마찬가지로 DVR/ SNAT(Static NAT), HA 라우터는 다른 노드에서 실행되는 L3 Agent의 백업 DVR/ SNAT 라우터에서 SNAT 서비스 장애를 빠르게 해결 가능</li>
</ul>
</li>
</ul>
<h1 id="heading-1"></h1>
<p>오픈스택 네트워크 구조</p>
<ol>
<li>
<p>Neutron 프로젝트
오픈스택에서 네트워크 서비스를 생성 및 관리하는 프로젝트	
사용자는 Neutron API를 통해 Neutron Plugin에게 사용자 요청을 전달</p>
</li>
<li>
<p>Neutron Plugin
Neutron에서 가장 많이 사용되는 플러그인은 OVS(Open vSwitch)이다.
해당 플러그인은 효율적으로 패킷을 포워딩하기 위한 가상의 네트워크 스위치이다.</p>
</li>
<li>
<p>OVS 구조</p>
</li>
<li>
<p>네트워크 관련 명령어
(1) 네트워크 확인
openstack network list</p>
</li>
</ol>
<pre><code>(2) 네트워크 정보 조회
openstack network show [네트워크 이름]

(3) 라우터 정보 조회
ip netns

(4) 라우터의 자세한 정보 조회
ip netns exec [라우터이름] [리눅스 명령어]
                netstat -r
                arp -an
                ifconfig
                ping 

(5) 네트워크 생성
openstack network create --provider-network-type [타입] [네트워크 이름] 

(6) 서브넷 생성
openstack subnet create --network [네트워크 이름] --gateway [GW주소] --subnet-range [서브넷 범위] [서브넷 이름

(7) 라우터 목록 확인
openstack router list

(8) 라우터 정보 조회
openstack router show [라우터 이름]

(9) 라우터에 서브넷 추가
openstack router add subnet [라우터 이름] [서브넷 이름]

(10) 포트 생성
openstack port create --network [네트워크 이름] --fixed-ip subnet=[서브넷 이름] [포트 이름]

(11) 라우터에 포트 추가
openstack router add port [라우터 이름] [포트 이름]
</code></pre>
<ol start="3">
<li>fixed-ip와 floating-ip
Fixed IP	: 원래는 인터넷에 연결하기 위해 KT, SK, LG와 같은 인터넷 서비스 업체로부터 
제공받는 공인 IP를 의미한다.
하지만 클라우드에서는 클라우드 내에서 생성한 가상머신에 할당되는 내부 IP를 의미한다.</li>
</ol>
<pre><code>Floating IP	: 클라우드 내의 가상머신이 인터넷 외부망과 연결되기 위해 배정 받는 IP를 의미한다.
</code></pre>
<ol start="4">
<li>보안 그룹
인스턴스에 대한 인바운드 및 아웃바운드 트래픽을 제어하는 가상의 네트워크 방화벽</li>
</ol>
<pre><code>하나의 인스턴스에 여러 개의 보안 그룹 적용도 가능
</code></pre>
<ul>
<li>key 페어 등록</li>
</ul>
<p>key 권한 변경
chmod 700 [ Key파일 ]
ssh -i [ key 파일 ] [ CentOS or Ubuntu : 호스트 이름 ]@[ 192.168.0.204 : 해당 대역 ]</p>
<p>접속확인 ssh [ CentOS or Ubuntu ]@[ 192.168.0.204 : 해당 대역 ]</p>
<p>형식 바꾸기</p>
<p>Puttygen 으로 생성</p>
<p>save private 키 클릭</p>
<p>푸티 접속</p>
<p>cat authorized_keys</p>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex justify-between">





</div>

 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#네트워크를-관리하는-neutron"><strong>네트워크를 관리하는 Neutron</strong></a>
      <ul>
        <li><a href="#논리-아키텍처의-neutron"><strong>논리 아키텍처의 Neutron</strong></a></li>
        <li><a href="#neutron이-지원하는-플러그인의-종류"><strong>Neutron이 지원하는 플러그인의 종류</strong></a></li>
        <li><a href="#neutron과-vrrp-dvr"><strong>Neutron과 VRRP, DVR</strong></a></li>
      </ul>
    </li>
  </ul>
</nav>

 
    </aside>
    
  </main>

  
</body>
</div>
</html>















