<!DOCTYPE html>
<html lang="en">

<head>
  <script data-ad-client="ca-pub-1022327295984162" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Dockerfile     Dokerfile은 Doker에서 작동시킬 컨테이너의 구성 정보를 기술하기 위한 파일
  Dokerfile은 텍스트 형식의 파일로, 에디터 등을 사용하여 작성, 확장자는 따로 필요 없으며 Dokerfile이라는 이름의 파일에 인프라의 구성 정보를 기술
    Dokerfile의 기본 구문     명렵 설명     FROM 베이스 이미지 지정   RUN 명령 실행   CMD 컨테이너 실행 명령   LABEL 라벨 설정   EXPOSE Port Expose   ENV 환경변수   ADD 파일/ 디렉터리 추가   COPY 파일복서   ENTRYPOINT 컨테이너 실핼 명령   VOLUME 볼륨 마운트   USER 사용자 지정   WORKDIR 작업 디렉토리   ARG Dockerfile 안의 변수   ONBUILD 빌드 완료 후 실행되는 명령어   STOPSIGNAL 시스템 콜 시그널 설정   HEALTHCHECK 컨테이너 헬스 체크   SHELL 기본 쉘 설정   # 주석설정       Dockerfile 작성  FROM &lt;IMG:LABEL&gt; FROM centos:centos7 FROM centos:centos7@sha256:다이제스트 # 상단과 같은 식으로 나열 $ docker build -t sample:1.">



<meta name="robots" content="index,follow">
<link rel="canonical" href=/docs/docker/docker/dockertraining/infradocker-03/><meta property="og:title" content="Dokerfile" />
<meta property="og:description" content="Dockerfile     Dokerfile은 Doker에서 작동시킬 컨테이너의 구성 정보를 기술하기 위한 파일
  Dokerfile은 텍스트 형식의 파일로, 에디터 등을 사용하여 작성, 확장자는 따로 필요 없으며 Dokerfile이라는 이름의 파일에 인프라의 구성 정보를 기술
    Dokerfile의 기본 구문     명렵 설명     FROM 베이스 이미지 지정   RUN 명령 실행   CMD 컨테이너 실행 명령   LABEL 라벨 설정   EXPOSE Port Expose   ENV 환경변수   ADD 파일/ 디렉터리 추가   COPY 파일복서   ENTRYPOINT 컨테이너 실핼 명령   VOLUME 볼륨 마운트   USER 사용자 지정   WORKDIR 작업 디렉토리   ARG Dockerfile 안의 변수   ONBUILD 빌드 완료 후 실행되는 명령어   STOPSIGNAL 시스템 콜 시그널 설정   HEALTHCHECK 컨테이너 헬스 체크   SHELL 기본 쉘 설정   # 주석설정       Dockerfile 작성  FROM &lt;IMG:LABEL&gt; FROM centos:centos7 FROM centos:centos7@sha256:다이제스트 # 상단과 같은 식으로 나열 $ docker build -t sample:1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://mung0001.github.io/docs/docker/docker/dockertraining/infradocker-03/" /><meta property="article:section" content="docs" />




<title>뭉게뭉게</title>
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.63eb88daa545365405ecdbb21033286a325c60a36cfa6d22d21e7c3bc9286941.css" integrity="sha256-Y&#43;uI2qVFNlQF7NuyEDMoajJcYKNs&#43;m0i0h58O8koaUE=">
<script defer src="/en.search.min.4f8894bca04587addadc1a2aafdf30e0038a1cb5b9d6a76e297968112e8fa057.js" integrity="sha256-T4iUvKBFh63a3Boqr98w4AOKHLW51qduKXloES6PoFc="></script>
<!--

-->

   

</head>

<body>
  <div class="background">
  <input type="checkbox" class="hidden" id="menu-control" />
  <main class="container flex" style="max-width:100%;" >
    <aside style="padding: 1.5%; max-width: 90%;" class="book-menu">
      
  
<nav styles="background-color:red; position=none;">
구름이 
<h2 class="book-brand">
  <a href="/"><span>뭉게뭉게</span>
  </a>
</h2>


<div style="padding-top: 0.2cm; font-size: 0.9em; font-weight: bolder;">
  <div style ="padding-bottom: 0.3cm;">
    Name : Jengkeun Lee
  </div>
  <div style ="padding-bottom: 0.3cm;">
    Mail : mung0001@naver.com
  </div>
</div>

<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  

  
  




 
  
    




  
  <ul>
    
      
        

  <li class="book-section-flat" >
    

  
  <a href="/docs/aws/" class="">Amazon Web Services</a>
  


    




  
  <ul>
    
      
        

  <li>
    

  
  <a href="/docs/aws/amazonwebservice/" class="collapsed ">AWS docs</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/aws/awstraining/" class="collapsed ">AWS Training</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/aws/awssaa/" class="collapsed ">AWS SAA 시험정리</a>
  


    






  </li>


      
    
  </ul>
  



  </li>


      
    
      
        

  <li class="book-section-flat" >
    

  
  <span>Microsoft Azure</span>
  


    




  
  <ul>
    
      
        

  <li>
    

  
  <a href="/docs/azure/microsoftazure/" class="collapsed ">Azure docs</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/azure/azuretraining/" class="collapsed ">Azure Training</a>
  


    






  </li>


      
    
  </ul>
  



  </li>


      
    
      
        

  <li class="book-section-flat" >
    

  
  <span>Google Cloud Platform</span>
  


    




  
  <ul>
    
      
        

  <li>
    

  
  <a href="/docs/gcp/googlecloudplatform/" class="collapsed ">GCP docs</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/gcp/gcptraining/" class="collapsed ">GCP Training</a>
  


    






  </li>


      
    
  </ul>
  



  </li>


      
    
      
        

  <li class="book-section-flat" >
    

  
  <span>Naver Cloud</span>
  


    




  
  <ul>
    
      
        

  <li>
    

  
  <a href="/docs/nc/navercloudplatform/" class="collapsed ">NCP docs</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/nc/ncptraining/" class="collapsed ">Naver Cloud Training</a>
  


    






  </li>


      
    
  </ul>
  



  </li>


      
    
      
        

  <li class="book-section-flat" >
    

  
  <span>OpenStack</span>
  


    




  
  <ul>
    
      
        

  <li>
    

  
  <a href="/docs/openstack/openstack/" class="collapsed ">OpenStack docs</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/openstack/openstacktraining/" class="collapsed ">OpenStack Training</a>
  


    






  </li>


      
    
  </ul>
  



  </li>


      
    
      
        

  <li class="book-section-flat" >
    

  
  <span>operation</span>
  


    




  
  <ul>
    
      
        

  <li class="book-section-flat" >
    

  
  <span>Docker</span>
  


    




  
  <ul>
    
      
        

  <li>
    

  
  <a href="/docs/docker/docker/docker/" class="collapsed ">Docker docs</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/docker/docker/dockertraining/" class="collapsed ">Docker Training</a>
  


    




  
  <ul>
    
      
        <li >

  
  <a href="/docs/docker/docker/dockertraining/infradocker-05/" class="">Infradocker 05</a>
  

</li>
      
    
      
        <li >

  
  <a href="/docs/docker/docker/dockertraining/infradocker-06/" class="">Infradocker 06</a>
  

</li>
      
    
      
        <li >

  
  <a href="/docs/docker/docker/dockertraining/infradocker-07/" class="">Infradocker 07</a>
  

</li>
      
    
      
        <li >

  
  <a href="/docs/docker/docker/dockertraining/infradocker-08/" class="">Infradocker 08</a>
  

</li>
      
    
      
        <li >

  
  <a href="/docs/docker/docker/dockertraining/infradocker-01/" class="">Docker의 기능</a>
  

</li>
      
    
      
        <li >

  
  <a href="/docs/docker/docker/dockertraining/infradocker-02/" class="">Docker 설치</a>
  

</li>
      
    
      
        <li >

  
  <a href="/docs/docker/docker/dockertraining/infradocker-03/" class="active">Dokerfile</a>
  

</li>
      
    
      
        <li >

  
  <a href="/docs/docker/docker/dockertraining/infradocker-04/" class="">Docker Basic</a>
  

</li>
      
    
  </ul>
  



  </li>


      
    
  </ul>
  



  </li>


      
    
  </ul>
  



  </li>


      
    
      
        

  <li class="book-section-flat" >
    

  
  <span>Infra engineer</span>
  


    




  
  <ul>
    
      
        

  <li>
    

  
  <a href="/docs/infra/infra/" class="collapsed ">Infra engineer</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/infra/tia-942/" class="collapsed ">TIA-942</a>
  


    






  </li>


      
    
  </ul>
  



  </li>


      
    
      
        

  <li class="book-section-flat" >
    

  
  <span>development</span>
  


    




  
  <ul>
    
      
        

  <li>
    

  
  <a href="/docs/development/python/" class="collapsed ">Python docs</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/development/shell/" class="collapsed ">Shell Script</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/development/spingboot/" class="collapsed ">Sping Boot</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/development/golang/" class="collapsed ">Golang</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/development/web/" class="collapsed ">Web</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/development/git/" class="collapsed ">Git</a>
  


    






  </li>


      
    
  </ul>
  



  </li>


      
    
      
        

  <li class="book-section-flat" >
    

  
  <span>Network</span>
  


    




  
  <ul>
    
      
        

  <li>
    

  
  <a href="/docs/network/network/" class="collapsed ">Network 기본</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/network/sophos/" class="collapsed ">Sophos</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/network/mail/" class="collapsed ">Mail</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/network/snort/" class="collapsed ">Snort</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/network/nm/" class="collapsed ">Network Master</a>
  


    






  </li>


      
    
  </ul>
  



  </li>


      
    
      
        

  <li class="book-section-flat" >
    

  
  <span>System</span>
  


    




  
  <ul>
    
      
        

  <li>
    

  
  <a href="/docs/system/nas/" class="collapsed ">NAS</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/system/linux/" class="collapsed ">Linux</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/system/window/" class="collapsed ">Windows Servers</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/system/macos/" class="collapsed ">Mac OS</a>
  


    






  </li>


      
    
  </ul>
  



  </li>


      
    
      
        

  <li class="book-section-flat" >
    

  
  <span>Database</span>
  


    




  
  <ul>
    
      
        

  <li>
    

  
  <a href="/docs/database/sqld/" class="collapsed ">SQLP&amp; SQLD</a>
  


    






  </li>


      
    
  </ul>
  



  </li>


      
    
      
        

  <li class="book-section-flat" >
    

  
  <a href="/docs/project/" class="">Project&amp; Study</a>
  


    




  
  <ul>
    
      
        

  <li>
    

  
  <a href="/docs/project/study/" class="collapsed ">Study</a>
  


    






  </li>


      
    
  </ul>
  



  </li>


      
    
  </ul>
  



  














  
<ul>
  
  <li>
    <a href="/posts/" >
        Blog
      </a>
  </li>
  
</ul>






<br>
<div>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1022327295984162"
     data-ad-slot="6213387116"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
</nav>




  <script>(function(){var a=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
    </aside>

    <div style="padding-left: 2.5%;" class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Dokerfile</strong>

  <label for="toc-control">
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
  </label>
</div>


  
    <input type="checkbox" class="hidden" id="toc-control" />
    <aside class="hidden clearfix">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#dockerfile"><strong>Dockerfile</strong></a></li>
  </ul>

  <ul>
    <li>
      <ul>
        <li><a href="#dokerfile의-기본-구문"><strong>Dokerfile의 기본 구문</strong></a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li>
      <ul>
        <li><a href="#dockerfile-작성"><strong>Dockerfile 작성</strong></a></li>
      </ul>
    </li>
  </ul>
</nav>


    </aside>
  
 
      </header>

      <div>
<ins class="kakao_ad_area" style="display:none;" 
 data-ad-unit    = "DAN-ICAYRM98zmyBXxtc" 
 data-ad-width   = "320" 
 data-ad-height  = "100"></ins> 
<script type="text/javascript" src="//t1.daumcdn.net/kas/static/ba.min.js" async></script>
</div>
<br>
<br>
<br>
      
  <article class="markdown"><h2 id="dockerfile"><strong>Dockerfile</strong></h2>
<hr>
<h1 id="heading"></h1>
<ul>
<li>
<p><strong>Dokerfile은 Doker에서 작동시킬 컨테이너의 구성 정보를 기술하기 위한 파일</strong></p>
</li>
<li>
<p><strong>Dokerfile은 텍스트 형식의 파일로, 에디터 등을 사용하여 작성, 확장자는 따로 필요 없으며 Dokerfile이라는 이름의 파일에 인프라의 구성 정보를 기술</strong></p>
</li>
</ul>
<h1 id="heading-1"></h1>
<p> </p>
<h3 id="dokerfile의-기본-구문"><strong>Dokerfile의 기본 구문</strong></h3>
<h1 id="heading-2"></h1>
<table>
<thead>
<tr>
<th>명렵</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>FROM</td>
<td>베이스 이미지 지정</td>
</tr>
<tr>
<td>RUN</td>
<td>명령 실행</td>
</tr>
<tr>
<td>CMD</td>
<td>컨테이너 실행 명령</td>
</tr>
<tr>
<td>LABEL</td>
<td>라벨 설정</td>
</tr>
<tr>
<td>EXPOSE</td>
<td>Port Expose</td>
</tr>
<tr>
<td>ENV</td>
<td>환경변수</td>
</tr>
<tr>
<td>ADD</td>
<td>파일/ 디렉터리 추가</td>
</tr>
<tr>
<td>COPY</td>
<td>파일복서</td>
</tr>
<tr>
<td>ENTRYPOINT</td>
<td>컨테이너 실핼 명령</td>
</tr>
<tr>
<td>VOLUME</td>
<td>볼륨 마운트</td>
</tr>
<tr>
<td>USER</td>
<td>사용자 지정</td>
</tr>
<tr>
<td>WORKDIR</td>
<td>작업 디렉토리</td>
</tr>
<tr>
<td>ARG</td>
<td>Dockerfile 안의 변수</td>
</tr>
<tr>
<td>ONBUILD</td>
<td>빌드 완료 후 실행되는 명령어</td>
</tr>
<tr>
<td>STOPSIGNAL</td>
<td>시스템 콜 시그널 설정</td>
</tr>
<tr>
<td>HEALTHCHECK</td>
<td>컨테이너 헬스 체크</td>
</tr>
<tr>
<td>SHELL</td>
<td>기본 쉘 설정</td>
</tr>
<tr>
<td>#</td>
<td>주석설정</td>
</tr>
</tbody>
</table>
<h1 id="heading-3"></h1>
<p> </p>
<h1 id="heading-4"></h1>
<h3 id="dockerfile-작성"><strong>Dockerfile 작성</strong></h3>
<h1 id="heading-5"></h1>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-tpl" data-lang="tpl">FROM &lt;IMG:LABEL&gt;

FROM centos:centos7
FROM centos:centos7@sha256:다이제스트
# 상단과 같은 식으로 나열

$ docker build -t sample:1.0 /home/docker/sample
# 명령 실행시 /home/docker/sample에 저장된 Dokerfile로부터 sample이라는 이름의 Docker 이미지 생성



RUN &lt;실행할 명령어&gt;

RUN apt-get install -y nginx
RUN [&#34;/bin/bash&#34;, &#34;-c&#34;, &#34;apt-get install -y nginx&#34;]
RUN apt-get -y install \
                apache \
                php \
                ...
CMD [&#34;nginx&#34; &#34;-g&#34; &#34;daemon off&#34;]
CMD nginx -g &#39;daemon off&#39;
# 문자열을 인수로 지정할 때는 &#39;&#39;를 사용
# RUN은 여러개 개술이 가능
# Exec(CMD), Shell도 사용방법은 동일



ENTRYPOINT &lt;실행할 명령어&gt;
ENTRYPOINT [&#34;nginx&#34;, &#34;-g&#34;, &#34;daemon off;&#34;]
ENTRYPOINT nginx -g &#39;daemon off;&#39;



ONBUILD &lt;실행할 명령어&gt;
# ONBUILD는 빌드 완료 후에 실행되는 명령어


STOPSIGNAL &lt;시그널&gt;
# 컨테이너를 종료할 때에 송신하는 시그널


HEALTHCHECK &lt;옵션&gt; CMD 실행할 명령
# --interval=n / 헬스 체크 간격 / 기본 30s
# --timeout=n / 헬스 체크 타임아웃 / 기본 30s
# --retries=N / 타임아웃 횟수 / 3



ENV &lt;key&gt; &lt;value&gt;
myName &#34;mungmung&#34;
myOrder mungmungbab mungmunggug
myName=&#34;mungmung&#34; \
myOrder mungmungbab \ mungmunggug
# ENV는 환경변수로 &lt;key&gt;, &lt;value&gt; 값으로 이루어져 있음



WORKDIR &lt;작업 디렉토리 경로&gt;
WORKDIR /first
WORKDIR second
WORKDIR third
RUN [&#34;pwd&#34;]
# WORKDIR은 타 명령여 ( RUN, CMD, COPY, ADD 등 )에서 작업을 실행시에 작업 디렉토리를 설정



USER &lt;사용자명/UID&gt;
RUN [&#34;adduser&#34; &#34;mung&#34;]
RUN [&#34;whoami&#34;]
USER mung
# 단, USER 명령에서 지정하는 사용자는 RUN 명령으로 미리 작성해 놓을 필요가 있다는 점에 주의가 필요



LABEL &lt;Key name&gt;=&lt;Value&gt;
LABEL maintainer &#34;...&#34;
LABEL title=&#34;Title&#34;
LABEL version=&#34;n.n&#34;
LABEL description=&#34;This image is My_Server&#34;
# 라벨을 통해 Dockerfile을 빌드하여 생성된 이미지의 이름 및 상세 정보를 저장할 수 있다



EXPOSE &lt;Port num&gt;
EXPOSE 8080
# 해당 포트는 공개(open)



ARG &lt;이름&gt;[=기본값]
ARG YOURNAME=&#34;mung&#34;
RUN echo $YOURNAME
mung
# ARG는 Dockerfile에서 변수를 선언하고 사용할 수 있음



SHELL [&#34;쉘의 경로&#34;, &#34;피라미터&#34;]
SHELL [&#34;/bin/bash&#34;, &#34;-c&#34;]
RUN echo hello
hello
# SHELL 명령은 그 쉘을 통해 Dockerfile의 Shell 형식으로 RUN, CMD 명령 등을 수행



ADD [&#34;&lt;호스트 파일 경로&gt;&#34; &#34;&lt;Docker Image 파일 경로&gt;&#34;]
ADD host.html /docker_dir/
# 추가하고 싶은 호스트의 파일 경로에는 Dockerfile의 디렉토리 내부를 지정하여 사용



COPY [&#34;&lt;호스트 파일 경로&gt;&#34; &#34;&lt;Docker Image 파일 경로&gt;&#34;]
# 복사하고 싶은 호스트의 파일 경로에는 Dockerfile의 디렉토리 내부를 지정하여 사용



VOLUME [&#34;/MountPoint]
# VOLUME을 지정한 이름의 마운트 포이트를 작성 후, 호스트나 그 외 다른 컨테이너로부터 볼륨의 외부 마운트를 수행
</code></pre></div><h1 id="heading-6"></h1>
<p> </p>
</article>
 
      
<div>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-1022327295984162"
     data-ad-slot="8742279271"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div>

</div>

      <footer class="book-footer">
        
  <div class="flex justify-between">





</div>

 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside style="max-width: 14%;" class="book-toc">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#dockerfile"><strong>Dockerfile</strong></a></li>
  </ul>

  <ul>
    <li>
      <ul>
        <li><a href="#dokerfile의-기본-구문"><strong>Dokerfile의 기본 구문</strong></a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li>
      <ul>
        <li><a href="#dockerfile-작성"><strong>Dockerfile 작성</strong></a></li>
      </ul>
    </li>
  </ul>
</nav>

 
    </aside>
    
  </main>

  
</body>
</div>
</html>















